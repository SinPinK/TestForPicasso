import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["onChange"],_excluded2=["size","className","items","view","value","linePosition","fitMode","onlyIcon","getIcon","getLabel","onChange","iconSize","renderItem"];import"./Tabs.css";import React,{createRef,useMemo}from"react";import{useChoiceGroup}from"../../hooks/useChoiceGroup/useChoiceGroup";import{useResizeObserved}from"../../hooks/useResizeObserved/useResizeObserved";import{cn}from"../../utils/bem";import{TabsFitModeDropdownWrapper}from"./FitModeDropdownWrapper/TabsFitModeDropdownWrapper";import{TabsFitModeScrollWrapper}from"./FitModeScrollWrapper/TabsFitModeScrollWrapper";import{getTabsDirection}from"./helpers";import{TabsBorderLine,TabsRunningLine}from"./Line/TabsLine";import{cnTabsTab,TabsTab}from"./Tab/TabsTab";export var tabsSizes=["m","s","xs"];export var tabsDefaultSize=tabsSizes[0];export var tabsViews=["bordered","clear"];export var tabsDefaultView=tabsViews[0];export var tabsLinePositions=["bottom","top","left","right"];export var tabsDefaultLinePosition="bottom";export var tabsFitModes=["scroll","dropdown"];export var tabsDefaultFitMode="dropdown";export var cnTabs=cn("Tabs");function renderItemDefault(a){var b=a.onChange,c=_objectWithoutProperties(a,_excluded);return React.createElement(TabsTab,Object.assign({},c,{onChange:b}))}export var Tabs=React.forwardRef(function(a,b){var c=a.size,d=void 0===c?tabsDefaultSize:c,e=a.className,f=a.items,g=a.view,h=void 0===g?tabsDefaultView:g,i=a.value,j=a.linePosition,k=void 0===j?tabsDefaultLinePosition:j,l=a.fitMode,m=void 0===l?tabsDefaultFitMode:l,n=a.onlyIcon,o=a.getIcon,p=a.getLabel,q=a.onChange,r=a.iconSize,s=a.renderItem,t=void 0===s?renderItemDefault:s,u=_objectWithoutProperties(a,_excluded2),v=useChoiceGroup({value:i||null,getKey:p,callBack:q,multiple:!1}),w=v.getOnChange,x=v.getChecked,y=getTabsDirection(k),z="vertical"===y,A=useMemo(function(){return Array(f.length).fill(null).map(function(){return createRef()})},[f,m,z]),B=useResizeObserved(A,function(a){var b;return{size:null!==(b=null===a||void 0===a?void 0:a[z?"offsetHeight":"offsetWidth"])&&void 0!==b?b:0,gap:a?parseInt(getComputedStyle(a)[z?"marginBottom":"marginRight"],10):0}}),C=f.findIndex(function(a){return x(a)}),D=function(a,b){return t({item:a,onChange:function(){null===b||void 0===b?void 0:b(),w(a).apply(void 0,arguments)},checked:x(a),label:p(a).toString(),icon:o&&o(a),onlyIcon:n,size:d,iconSize:r})},E=getTabsWrapper(y,m);return React.createElement("div",Object.assign({className:cnTabs({size:d,view:h,direction:y},[e]),ref:b},u),React.createElement(E,{tabRefs:A,tabsDimensions:B,renderItem:D,renderItemsList:function renderItemsList(a){var b=a.withRunningLine,c=a.getTabClassName;return React.createElement("div",{className:cnTabs("List",{direction:y,linePosition:k})},f.map(function(a,b){return React.createElement("div",{ref:A[b],key:p(a),className:cnTabs("Tab",{direction:y},[null===c||void 0===c?void 0:c(b)])},D(a))}),(!(void 0!==b)||b)&&React.createElement(TabsRunningLine,{linePosition:k,tabsDimensions:B,activeTabIdx:C}))},getLabel:p,getChecked:x,items:f}),"bordered"===h&&React.createElement(TabsBorderLine,{linePosition:k}))});var getTabsWrapper=function(a,b){return"vertical"===a?OnlyListWrapper:"scroll"===b?TabsFitModeScrollWrapper:TabsFitModeDropdownWrapper},OnlyListWrapper=function(a){var b=a.renderItemsList;return React.createElement(React.Fragment,null,b({}))};export{TabsTab,cnTabsTab};
//# sourceMappingURL=TabsDeprecated.js.map