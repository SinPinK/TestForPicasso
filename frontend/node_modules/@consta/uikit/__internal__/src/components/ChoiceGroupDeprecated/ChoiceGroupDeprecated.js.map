{"version":3,"file":"ChoiceGroupDeprecated.js","names":["React","useChoiceGroup","cn","getByMap","ChoiceGroupItem","choiceGroupForms","choiceGroupDefaultForm","choiceGroupSizes","choiceGroupDefaultSize","choiceGroupViews","choiceGroupDefaultView","choiceGroupWidth","choiceGroupWidthDefault","sizeMap","xs","s","m","l","cnChoiceGroup","ChoiceGroup","forwardRef","props","ref","size","form","view","width","onlyIcon","iconSizeProp","iconSize","value","multiple","items","getLabel","onChange","getIcon","name","className","disabled","getDisabled","truncate","otherProps","getKey","callBack","getOnChange","getChecked","map","item","idx","itemChecked","itemDisabled","checked","toString"],"sources":["../../../../../src/components/ChoiceGroupDeprecated/ChoiceGroupDeprecated.tsx"],"sourcesContent":["import './ChoiceGroup.css';\n\nimport { IconComponent, IconPropSize } from '@consta/icons/Icon';\nimport React from 'react';\n\nimport { useChoiceGroup } from '../../hooks/useChoiceGroup/useChoiceGroup';\nimport { cn } from '../../utils/bem';\nimport { getByMap } from '../../utils/getByMap';\nimport { PropsWithHTMLAttributesAndRef } from '../../utils/types/PropsWithHTMLAttributes';\nimport { ChoiceGroupItem } from './Item/ChoiceGroup-Item';\n\nexport const choiceGroupForms = ['default', 'brick', 'round'] as const;\nexport type ChoiceGroupPropForm = typeof choiceGroupForms[number];\nexport const choiceGroupDefaultForm: ChoiceGroupPropForm = 'default';\n\nexport const choiceGroupSizes = ['xs', 's', 'm', 'l'] as const;\nexport type ChoiceGroupPropSize = typeof choiceGroupSizes[number];\nexport const choiceGroupDefaultSize: ChoiceGroupPropSize = 'm';\n\nexport const choiceGroupViews = ['primary', 'ghost', 'secondary'] as const;\nexport type ChoiceGroupPropView = typeof choiceGroupViews[number];\nexport const choiceGroupDefaultView: ChoiceGroupPropView = 'primary';\n\nexport const choiceGroupWidth = ['default', 'full'] as const;\nexport type СhoiceGroupPropWidth = typeof choiceGroupWidth[number];\nexport const choiceGroupWidthDefault: СhoiceGroupPropWidth =\n  choiceGroupWidth[0];\n\nexport type ChoiceGroupPropGetLabel<ITEM> = (item: ITEM) => string | number;\nexport type ChoiceGroupPropGetIcon<ITEM> = (\n  item: ITEM,\n) => IconComponent | undefined;\n\nexport type ChoiceGroupPropValue<ITEM, MULTIPLE extends boolean> =\n  | (MULTIPLE extends true ? ITEM[] : ITEM)\n  | null;\n\nexport type ChoiceGroupPropOnChange<ITEM, MULTIPLE extends boolean> = (props: {\n  e: React.ChangeEvent<HTMLInputElement>;\n  value: MULTIPLE extends true ? ITEM[] | null : ITEM;\n}) => void;\n\ntype Props<\n  ITEM,\n  MULTIPLE extends boolean = false,\n> = PropsWithHTMLAttributesAndRef<\n  {\n    size?: ChoiceGroupPropSize;\n    form?: ChoiceGroupPropForm;\n    view?: ChoiceGroupPropView;\n    width?: СhoiceGroupPropWidth;\n    onlyIcon?: boolean;\n    iconSize?: IconPropSize;\n    items: ITEM[];\n    getLabel: ChoiceGroupPropGetLabel<ITEM>;\n    getIcon?: ChoiceGroupPropGetIcon<ITEM>;\n    name: string;\n    disabled?: boolean;\n    getDisabled?: (item: ITEM) => boolean | undefined;\n    value?: ChoiceGroupPropValue<ITEM, MULTIPLE>;\n    onChange?: ChoiceGroupPropOnChange<ITEM, MULTIPLE>;\n    multiple?: MULTIPLE;\n    truncate?: boolean;\n    children?: never;\n  },\n  HTMLDivElement\n>;\n\ntype ChoiceGroupComponent = <ITEM, MULTIPLE extends boolean = false>(\n  props: Props<ITEM, MULTIPLE>,\n) => React.ReactElement | null;\n\nconst sizeMap: Record<ChoiceGroupPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nexport const cnChoiceGroup = cn('ChoiceGroup');\n\nexport const ChoiceGroup: ChoiceGroupComponent = React.forwardRef(\n  (props, ref) => {\n    const {\n      size = choiceGroupDefaultSize,\n      form = choiceGroupDefaultForm,\n      view = choiceGroupDefaultView,\n      width = choiceGroupWidthDefault,\n      onlyIcon,\n      iconSize: iconSizeProp,\n      value = null,\n      multiple = false,\n      items,\n      getLabel,\n      onChange,\n      getIcon,\n      name,\n      className,\n      disabled = false,\n      getDisabled,\n      truncate,\n      ...otherProps\n    } = props;\n\n    type Item = typeof items[number];\n\n    const { getOnChange, getChecked } = useChoiceGroup<\n      Item,\n      React.ChangeEvent<HTMLInputElement>\n    >({\n      value: value as Item,\n      getKey: getLabel,\n      callBack: onChange as ChoiceGroupPropOnChange<Item, false>,\n      multiple: multiple as false,\n      // привел к типам из-за того что\n      // TS не понимает что параметры для не Multiple и Multiple не могут прийти одновременно\n    });\n\n    const iconSize = getByMap(sizeMap, size, iconSizeProp);\n\n    return (\n      <div\n        {...otherProps}\n        ref={ref}\n        className={cnChoiceGroup(\n          { size, form, view, width, onlyIcon, disabled, truncate },\n          [className],\n        )}\n      >\n        {items.map((item, idx) => {\n          const itemChecked = getChecked(item);\n          const itemDisabled = !!getDisabled && getDisabled(item);\n          return (\n            <React.Fragment key={getLabel(item)}>\n              {idx > 0 && (\n                <div\n                  className={cnChoiceGroup('Divider', {\n                    checked: itemChecked,\n                    disabled: itemDisabled,\n                  })}\n                />\n              )}\n              <ChoiceGroupItem\n                onChange={getOnChange(item)}\n                checked={itemChecked}\n                label={getLabel(item).toString()}\n                icon={getIcon && getIcon(item)}\n                iconSize={iconSize}\n                multiple={multiple}\n                onlyIcon={onlyIcon}\n                name={name}\n                disabled={disabled || itemDisabled}\n              />\n            </React.Fragment>\n          );\n        })}\n      </div>\n    );\n  },\n);\n"],"mappings":"0QAAA,0BAGA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,cAAT,iDACA,OAASC,EAAT,uBACA,OAASC,QAAT,4BAEA,OAASC,eAAT,+BAEA,MAAO,IAAMC,iBAAgB,CAAG,CAAC,SAAD,CAAY,OAAZ,CAAqB,OAArB,CAAzB,CAEP,MAAO,IAAMC,uBAA2C,CAAG,SAApD,CAEP,MAAO,IAAMC,iBAAgB,CAAG,CAAC,IAAD,CAAO,GAAP,CAAY,GAAZ,CAAiB,GAAjB,CAAzB,CAEP,MAAO,IAAMC,uBAA2C,CAAG,GAApD,CAEP,MAAO,IAAMC,iBAAgB,CAAG,CAAC,SAAD,CAAY,OAAZ,CAAqB,WAArB,CAAzB,CAEP,MAAO,IAAMC,uBAA2C,CAAG,SAApD,CAEP,MAAO,IAAMC,iBAAgB,CAAG,CAAC,SAAD,CAAY,MAAZ,CAAzB,CAEP,MAAO,IAAMC,wBAA6C,CACxDD,gBAAgB,CAAC,CAAD,CADX,CA+CP,GAAME,QAAkD,CAAG,CACzDC,EAAE,CAAE,IADqD,CAEzDC,CAAC,CAAE,IAFsD,CAGzDC,CAAC,CAAE,GAHsD,CAIzDC,CAAC,CAAE,GAJsD,CAA3D,CAOA,MAAO,IAAMC,cAAa,CAAGhB,EAAE,CAAC,aAAD,CAAxB,CAEP,MAAO,IAAMiB,YAAiC,CAAGnB,KAAK,CAACoB,UAAN,CAC/C,SAACC,CAAD,CAAQC,CAAR,CAAgB,OAoBVD,CApBU,CAEZE,IAFY,CAEZA,CAFY,YAELf,sBAFK,KAoBVa,CApBU,CAGZG,IAHY,CAGZA,CAHY,YAGLlB,sBAHK,KAoBVe,CApBU,CAIZI,IAJY,CAIZA,CAJY,YAILf,sBAJK,KAoBVW,CApBU,CAKZK,KALY,CAKZA,CALY,YAKJd,uBALI,GAMZe,CANY,CAoBVN,CApBU,CAMZM,QANY,CAOFC,CAPE,CAoBVP,CApBU,CAOZQ,QAPY,GAoBVR,CApBU,CAQZS,KARY,CAQZA,CARY,YAQJ,IARI,KAoBVT,CApBU,CASZU,QATY,CASZA,CATY,eAUZC,CAVY,CAoBVX,CApBU,CAUZW,KAVY,CAWZC,CAXY,CAoBVZ,CApBU,CAWZY,QAXY,CAYZC,CAZY,CAoBVb,CApBU,CAYZa,QAZY,CAaZC,CAbY,CAoBVd,CApBU,CAaZc,OAbY,CAcZC,CAdY,CAoBVf,CApBU,CAcZe,IAdY,CAeZC,CAfY,CAoBVhB,CApBU,CAeZgB,SAfY,GAoBVhB,CApBU,CAgBZiB,QAhBY,CAgBZA,CAhBY,eAiBZC,CAjBY,CAoBVlB,CApBU,CAiBZkB,WAjBY,CAkBZC,CAlBY,CAoBVnB,CApBU,CAkBZmB,QAlBY,CAmBTC,CAnBS,0BAoBVpB,CApBU,cAwBsBpB,cAAc,CAGhD,CACA6B,KAAK,CAAEA,CADP,CAEAY,MAAM,CAAET,CAFR,CAGAU,QAAQ,CAAET,CAHV,CAIAH,QAAQ,CAAEA,CAJV,CAHgD,CAxBpC,CAwBNa,CAxBM,GAwBNA,WAxBM,CAwBOC,CAxBP,GAwBOA,UAxBP,CAoCRhB,CAAQ,CAAG1B,QAAQ,CAACU,OAAD,CAAUU,CAAV,CAAgBK,CAAhB,CApCX,CAsCd,MACE,4CACMa,CADN,EAEE,GAAG,CAAEnB,CAFP,CAGE,SAAS,CAAEJ,aAAa,CACtB,CAAEK,IAAI,CAAJA,CAAF,CAAQC,IAAI,CAAJA,CAAR,CAAcC,IAAI,CAAJA,CAAd,CAAoBC,KAAK,CAALA,CAApB,CAA2BC,QAAQ,CAARA,CAA3B,CAAqCW,QAAQ,CAARA,CAArC,CAA+CE,QAAQ,CAARA,CAA/C,CADsB,CAEtB,CAACH,CAAD,CAFsB,CAH1B,GAQGL,CAAK,CAACc,GAAN,CAAU,SAACC,CAAD,CAAOC,CAAP,CAAe,IAClBC,EAAW,CAAGJ,CAAU,CAACE,CAAD,CADN,CAElBG,CAAY,CAAG,CAAC,CAACX,CAAF,EAAiBA,CAAW,CAACQ,CAAD,CAFzB,CAGxB,MACE,qBAAC,KAAD,CAAO,QAAP,EAAgB,GAAG,CAAEd,CAAQ,CAACc,CAAD,CAA7B,EACS,CAAN,CAAAC,CAAG,EACF,2BACE,SAAS,CAAE9B,aAAa,CAAC,SAAD,CAAY,CAClCiC,OAAO,CAAEF,CADyB,CAElCX,QAAQ,CAAEY,CAFwB,CAAZ,CAD1B,EAFJ,CASE,oBAAC,eAAD,EACE,QAAQ,CAAEN,CAAW,CAACG,CAAD,CADvB,CAEE,OAAO,CAAEE,CAFX,CAGE,KAAK,CAAEhB,CAAQ,CAACc,CAAD,CAAR,CAAeK,QAAf,EAHT,CAIE,IAAI,CAAEjB,CAAO,EAAIA,CAAO,CAACY,CAAD,CAJ1B,CAKE,QAAQ,CAAElB,CALZ,CAME,QAAQ,CAAEE,CANZ,CAOE,QAAQ,CAAEJ,CAPZ,CAQE,IAAI,CAAES,CARR,CASE,QAAQ,CAAEE,CAAQ,EAAIY,CATxB,EATF,CAsBH,CA1BA,CARH,CAqCH,CA7E8C,CAA1C"}