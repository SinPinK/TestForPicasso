{"version":3,"file":"BreadcrumbsDeprecated.js","names":["IconArrowRight","React","useMemo","cn","getByMap","Button","breadcrumbPropSize","breadcrumbPropSizeDefault","cnBreadcrumbs","sizeMap","xs","s","m","l","Breadcrumbs","forwardRef","props","ref","pages","getLabel","getIsActive","getLink","getIcon","size","maxCount","onClick","onlyIconRoot","className","restProps","iconSize","rest","slice","head","splice","tail","delimiter","renderPages","isFirst","map","page","Icon","label","link","isActive","active","e","length"],"sources":["../../../../../src/components/BreadcrumbsDeprecated/BreadcrumbsDeprecated.tsx"],"sourcesContent":["import './Breadcrumbs.css';\n\nimport { IconComponent, IconPropSize } from '@consta/icons/Icon';\nimport { IconArrowRight } from '@consta/icons/IconArrowRight';\nimport React, { useMemo } from 'react';\n\nimport { cn } from '../../utils/bem';\nimport { getByMap } from '../../utils/getByMap';\nimport { PropsWithHTMLAttributesAndRef } from '../../utils/types/PropsWithHTMLAttributes';\nimport { Button } from '../Button/Button';\n\nexport const breadcrumbPropSize = ['m', 'xs', 's', 'l'] as const;\nexport type BreadcrumbPropSize = typeof breadcrumbPropSize[number];\nexport const breadcrumbPropSizeDefault: BreadcrumbPropSize =\n  breadcrumbPropSize[0];\n\nexport const cnBreadcrumbs = cn('Breadcrumbs');\n\nconst sizeMap: Record<BreadcrumbPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 'xs',\n  l: 'm',\n};\n\nexport type BreadcrumbsPropGetLabel<ITEM> = (\n  item: ITEM,\n) => string | React.ReactNode;\nexport type BreadcrumbsPropGetIsActive<ITEM> = (item: ITEM) => boolean;\nexport type BreadcrumbsPropGetLink<ITEM> = (item: ITEM) => string;\nexport type BreadcrumbsPropGetIcon<ITEM> = (\n  item: ITEM,\n) => IconComponent | undefined;\n\nexport type BreadcrumbsProps<ITEM> = {\n  pages: ITEM[];\n  getLabel: BreadcrumbsPropGetLabel<ITEM>;\n  getIsActive?: BreadcrumbsPropGetIsActive<ITEM>;\n  getLink: BreadcrumbsPropGetLink<ITEM>;\n  getIcon?: BreadcrumbsPropGetIcon<ITEM>;\n  size?: BreadcrumbPropSize;\n  maxCount?: number;\n  onClick?: (page: ITEM, e: React.MouseEvent) => void;\n  onlyIconRoot?: boolean;\n  className?: string;\n};\n\ntype Breadcrumbs = <ITEM>(\n  props: PropsWithHTMLAttributesAndRef<\n    BreadcrumbsProps<ITEM>,\n    HTMLUListElement\n  >,\n) => React.ReactElement | null;\n\nexport const Breadcrumbs: Breadcrumbs = React.forwardRef((props, ref) => {\n  const {\n    pages,\n    getLabel,\n    getIsActive,\n    getLink,\n    getIcon,\n    size = breadcrumbPropSizeDefault,\n    maxCount = 0,\n    onClick,\n    onlyIconRoot = false,\n    className,\n    ...restProps\n  } = props;\n\n  const iconSize = getByMap(sizeMap, size);\n\n  const { head, tail, rest } = useMemo(() => {\n    const rest = pages.slice();\n    const head = rest.splice(0, 1);\n    const tail = rest.splice(2 - maxCount);\n\n    return {\n      head,\n      tail,\n      rest,\n    };\n  }, [pages, maxCount]);\n\n  const delimiter = useMemo(\n    () => (\n      <IconArrowRight\n        size={iconSize}\n        className={cnBreadcrumbs('Delimiter', {\n          size: iconSize,\n        })}\n      />\n    ),\n    [iconSize],\n  );\n\n  const renderPages = (pages: any, isFirst = false) =>\n    pages.map((page: any) => {\n      const Icon = getIcon?.(page);\n      const label = getLabel(page);\n      const link = getLink(page);\n      const isActive = getIsActive?.(page);\n\n      return (\n        <li key={`${label}:${link}`} className={cnBreadcrumbs('Item')}>\n          {!isFirst && delimiter}\n          <a\n            className={cnBreadcrumbs('Link', { active: isActive })}\n            onClick={(e) => onClick?.(page, e)}\n            href={link}\n          >\n            {Icon &&\n              (onlyIconRoot && isFirst ? (\n                <Button\n                  type=\"button\"\n                  view=\"clear\"\n                  onlyIcon\n                  iconLeft={Icon}\n                  size={iconSize}\n                />\n              ) : (\n                <Icon className={cnBreadcrumbs('Icon')} size={iconSize} />\n              ))}\n            {(!isFirst || !onlyIconRoot) && (\n              <span className={cnBreadcrumbs('Label')}>{label}</span>\n            )}\n          </a>\n        </li>\n      );\n    });\n\n  return (\n    <ul\n      className={cnBreadcrumbs({ size }, [className])}\n      ref={ref}\n      {...restProps}\n    >\n      {renderPages(head, true)}\n      {maxCount && rest.length > 1 ? (\n        <li className={cnBreadcrumbs('Item')}>\n          {delimiter}\n          <span className={cnBreadcrumbs('More')}>...</span>\n        </li>\n      ) : (\n        renderPages(rest)\n      )}\n      {renderPages(tail)}\n    </ul>\n  );\n});\n"],"mappings":"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"}