import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["pages","getLabel","getIsActive","getLink","getIcon","size","maxCount","onClick","onlyIconRoot","className"];import"./Breadcrumbs.css";import{IconArrowRight}from"@consta/icons/IconArrowRight";import React,{useMemo}from"react";import{cn}from"../../utils/bem";import{getByMap}from"../../utils/getByMap";import{Button}from"../Button/Button";export var breadcrumbPropSize=["m","xs","s","l"];export var breadcrumbPropSizeDefault=breadcrumbPropSize[0];export var cnBreadcrumbs=cn("Breadcrumbs");var sizeMap={xs:"xs",s:"xs",m:"xs",l:"m"};export var Breadcrumbs=React.forwardRef(function(a,b){var c=a.pages,d=a.getLabel,e=a.getIsActive,f=a.getLink,g=a.getIcon,h=a.size,i=void 0===h?breadcrumbPropSizeDefault:h,j=a.maxCount,k=void 0===j?0:j,l=a.onClick,m=a.onlyIconRoot,n=void 0!==m&&m,o=a.className,p=_objectWithoutProperties(a,_excluded),q=getByMap(sizeMap,i),r=useMemo(function(){var a=c.slice(),b=a.splice(0,1),d=a.splice(2-k);return{head:b,tail:d,rest:a}},[c,k]),s=r.head,t=r.tail,u=r.rest,v=useMemo(function(){return React.createElement(IconArrowRight,{size:q,className:cnBreadcrumbs("Delimiter",{size:q})})},[q]),w=function(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return a.map(function(a){var c=null===g||void 0===g?void 0:g(a),h=d(a),i=f(a),j=null===e||void 0===e?void 0:e(a);return React.createElement("li",{key:"".concat(h,":").concat(i),className:cnBreadcrumbs("Item")},!b&&v,React.createElement("a",{className:cnBreadcrumbs("Link",{active:j}),onClick:function onClick(b){return null===l||void 0===l?void 0:l(a,b)},href:i},c&&(n&&b?React.createElement(Button,{type:"button",view:"clear",onlyIcon:!0,iconLeft:c,size:q}):React.createElement(c,{className:cnBreadcrumbs("Icon"),size:q})),(!b||!n)&&React.createElement("span",{className:cnBreadcrumbs("Label")},h)))})};return React.createElement("ul",Object.assign({className:cnBreadcrumbs({size:i},[o]),ref:b},p),w(s,!0),k&&1<u.length?React.createElement("li",{className:cnBreadcrumbs("Item")},v,React.createElement("span",{className:cnBreadcrumbs("More")},"...")):w(u),w(t))});
//# sourceMappingURL=BreadcrumbsDeprecated.js.map