import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["children","size","className","status","onSetDirection","style"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import"./Tooltip.css";import React,{useMemo,useState}from"react";import{cnMixPopoverArrow}from"../../mixs/MixPopoverArrow/MixPopoverArrow";import{cn}from"../../utils/bem";import{Popover}from"../Popover/Popover";import{Text}from"../Text/Text";import{generateDeps,generateThemeClassNames,ThemeContext,useTheme}from"../Theme/Theme";var ARROW_SIZE=6,ARROW_OFFSET=8,cnTooltip=cn("Tooltip");export var tooltipPropSizes=["m","s","l"];export var tooltipPropSizesDefault=tooltipPropSizes[0];export var tooltipPropStatus=["normal","alert","success","warning"];function renderChildren(a){return"string"==typeof a||"number"==typeof a?React.createElement(Text,{size:"xs"},a):a}export var Tooltip=React.forwardRef(function(a,b){var c,d=a.children,e=a.size,f=void 0===e?tooltipPropSizesDefault:e,g=a.className,h=a.status,i=a.onSetDirection,j=a.style,k=_objectWithoutProperties(a,_excluded),l=useTheme(),m=l.theme,n=useState(),o=_slicedToArray(n,2),p=o[0],q=o[1],r=useMemo(function(){var a=h?_objectSpread(_objectSpread({},m),{},{color:{primary:m.color.accent,accent:m.color.accent,invert:m.color.primary}}):_objectSpread(_objectSpread({},m),{},{color:{primary:m.color.invert,accent:m.color.accent,invert:m.color.primary}});return{theme:a,themeClassNames:generateThemeClassNames(a)}},[generateDeps(m),h]);return React.createElement(ThemeContext.Provider,{value:r},React.createElement(Popover,Object.assign({},k,{arrowOffset:ARROW_OFFSET+ARROW_SIZE,offset:10,onSetDirection:function onSetDirection(a){i&&i(a),q(a)},ref:b,className:cnTooltip({status:h},[g]),style:_objectSpread((c={},_defineProperty(c,"--popover-arrow-size","".concat(ARROW_SIZE,"px")),_defineProperty(c,"--popover-arrow-offset","".concat(ARROW_OFFSET,"px")),c),j)}),React.createElement("div",{className:cnTooltip("Background")}),React.createElement("div",{className:cnTooltip("Arrow",[cnMixPopoverArrow({direction:p})])}),React.createElement("div",{className:cnTooltip("Content",{size:f})},renderChildren(d))))});
//# sourceMappingURL=Tooltip.js.map