{"version":3,"file":"DatePickerTypeTime.js","names":["React","forwardRef","useEffect","useRef","useClickOutside","useFlag","setRef","DatePickerDropdown","DatePickerFieldTypeTime","datePickerPropFormatTypeDateTime","getDropdownZIndex","getMultiplicityTime","datePickerPropDateTimeViewDefault","DatePickerTypeTime","props","ref","events","dateTimeView","locale","dropdownForm","dropdownClassName","onFocus","multiplicityHoursProp","multiplicityHours","multiplicityMinutesProp","multiplicityMinutes","multiplicitySecondsProp","multiplicitySeconds","renderAdditionalControls","currentVisibleDate","onChangeCurrentVisibleDate","otherProps","format","fieldRef","calendarRef","calendarVisible","setCalendarVisible","current","isActive","ignoreClicksInsideRefs","handler","off","onFocusHandler","e","on","value","minDate","maxDate","onChange","style"],"sources":["../../../../../../src/components/DatePicker/DatePickerTypeTime/DatePickerTypeTime.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react';\n\nimport { useClickOutside } from '../../../hooks/useClickOutside/useClickOutside';\nimport { useFlag } from '../../../hooks/useFlag/useFlag';\nimport { setRef } from '../../../utils/setRef';\nimport { DatePickerDropdown } from '../DatePickerDropdown/DatePickerDropdown';\nimport { DatePickerFieldTypeTime } from '../DatePickerFieldTypeTime/DatePickerFieldTypeTime';\nimport {\n  datePickerPropFormatTypeDateTime,\n  getDropdownZIndex,\n  getMultiplicityTime,\n} from '../helpers';\nimport {\n  datePickerPropDateTimeViewDefault,\n  DatePickerTypeComponent,\n} from '../types';\n\nexport const DatePickerTypeTime: DatePickerTypeComponent<'time'> = forwardRef(\n  (props, ref) => {\n    const {\n      events,\n      dateTimeView = datePickerPropDateTimeViewDefault,\n      locale,\n      dropdownForm,\n      dropdownClassName,\n      onFocus,\n      multiplicityHours: multiplicityHoursProp,\n      multiplicityMinutes: multiplicityMinutesProp,\n      multiplicitySeconds: multiplicitySecondsProp,\n      renderAdditionalControls,\n\n      currentVisibleDate,\n      onChangeCurrentVisibleDate,\n      ...otherProps\n    } = props;\n\n    const [multiplicityHours, multiplicityMinutes, multiplicitySeconds] =\n      getMultiplicityTime(\n        otherProps.format || datePickerPropFormatTypeDateTime,\n        multiplicityHoursProp,\n        multiplicityMinutesProp,\n        multiplicitySecondsProp,\n      );\n\n    const fieldRef = useRef<HTMLDivElement>(null);\n    const calendarRef = useRef<HTMLDivElement>(null);\n\n    const [calendarVisible, setCalendarVisible] = useFlag(false);\n\n    const onFocusHandler = (e: React.FocusEvent<HTMLElement>) => {\n      onFocus && onFocus(e);\n      setCalendarVisible.on();\n    };\n\n    useEffect(() => {\n      if (ref) {\n        setRef(ref, fieldRef.current);\n      }\n    }, [ref, fieldRef]);\n\n    useClickOutside({\n      isActive: calendarVisible,\n      ignoreClicksInsideRefs: [fieldRef, calendarRef],\n      handler: setCalendarVisible.off,\n    });\n\n    return (\n      <>\n        <DatePickerFieldTypeTime\n          {...otherProps}\n          ref={fieldRef}\n          onFocus={onFocusHandler}\n          multiplicityHours={multiplicityHours}\n          multiplicitySeconds={multiplicitySeconds}\n          multiplicityMinutes={multiplicityMinutes}\n        />\n        <DatePickerDropdown\n          ref={calendarRef}\n          anchorRef={fieldRef}\n          isOpen={calendarVisible}\n          value={props.value || undefined}\n          type=\"time\"\n          view={dateTimeView}\n          events={events}\n          locale={locale}\n          minDate={props.minDate}\n          maxDate={props.maxDate}\n          form={dropdownForm}\n          className={dropdownClassName}\n          onChange={props.onChange}\n          renderAdditionalControls={renderAdditionalControls}\n          multiplicityHours={multiplicityHours}\n          multiplicitySeconds={multiplicitySeconds}\n          multiplicityMinutes={multiplicityMinutes}\n          zIndex={getDropdownZIndex(props.style)}\n        />\n      </>\n    );\n  },\n);\n"],"mappings":"iYAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,MAAvC,KAAqD,OAArD,CAEA,OAASC,eAAT,sDACA,OAASC,OAAT,sCACA,OAASC,MAAT,6BACA,OAASC,kBAAT,gDACA,OAASC,uBAAT,0DACA,OACEC,gCADF,CAEEC,iBAFF,CAGEC,mBAHF,kBAKA,OACEC,iCADF,gBAKA,MAAO,IAAMC,mBAAmD,CAAGZ,UAAU,CAC3E,SAACa,CAAD,CAAQC,CAAR,CAAgB,IAEZC,EAFY,CAgBVF,CAhBU,CAEZE,MAFY,GAgBVF,CAhBU,CAGZG,YAHY,CAGZA,CAHY,YAGGL,iCAHH,GAIZM,CAJY,CAgBVJ,CAhBU,CAIZI,MAJY,CAKZC,CALY,CAgBVL,CAhBU,CAKZK,YALY,CAMZC,CANY,CAgBVN,CAhBU,CAMZM,iBANY,CAOZC,CAPY,CAgBVP,CAhBU,CAOZO,OAPY,CAQOC,CARP,CAgBVR,CAhBU,CAQZS,iBARY,CASSC,CATT,CAgBVV,CAhBU,CASZW,mBATY,CAUSC,CAVT,CAgBVZ,CAhBU,CAUZa,mBAVY,CAWZC,CAXY,CAgBVd,CAhBU,CAWZc,wBAXY,CAaZC,CAbY,CAgBVf,CAhBU,CAaZe,kBAbY,CAcZC,CAdY,CAgBVhB,CAhBU,CAcZgB,0BAdY,CAeTC,CAfS,0BAgBVjB,CAhBU,cAmBZH,mBAAmB,CACjBoB,CAAU,CAACC,MAAX,EAAqBvB,gCADJ,CAEjBa,CAFiB,CAGjBE,CAHiB,CAIjBE,CAJiB,CAnBP,uBAkBPH,CAlBO,MAkBYE,CAlBZ,MAkBiCE,CAlBjC,MA0BRM,CAAQ,CAAG9B,MAAM,CAAiB,IAAjB,CA1BT,CA2BR+B,CAAW,CAAG/B,MAAM,CAAiB,IAAjB,CA3BZ,GA6BgCE,OAAO,IA7BvC,uBA6BP8B,CA7BO,MA6BUC,CA7BV,MAgDd,MAZAlC,UAAS,CAAC,UAAM,CACVa,CADU,EAEZT,MAAM,CAACS,CAAD,CAAMkB,CAAQ,CAACI,OAAf,CAET,CAJQ,CAIN,CAACtB,CAAD,CAAMkB,CAAN,CAJM,CAYT,CANA7B,eAAe,CAAC,CACdkC,QAAQ,CAAEH,CADI,CAEdI,sBAAsB,CAAE,CAACN,CAAD,CAAWC,CAAX,CAFV,CAGdM,OAAO,CAAEJ,CAAkB,CAACK,GAHd,CAAD,CAMf,CACE,wCACE,oBAAC,uBAAD,kBACMV,CADN,EAEE,GAAG,CAAEE,CAFP,CAGE,OAAO,CAtBU,QAAjBS,eAAiB,CAACC,CAAD,CAAsC,CAC3DtB,CAAO,EAAIA,CAAO,CAACsB,CAAD,CADyC,CAE3DP,CAAkB,CAACQ,EAAnB,EACD,CAgBG,CAIE,iBAAiB,CAAErB,CAJrB,CAKE,mBAAmB,CAAEI,CALvB,CAME,mBAAmB,CAAEF,CANvB,GADF,CASE,oBAAC,kBAAD,EACE,GAAG,CAAES,CADP,CAEE,SAAS,CAAED,CAFb,CAGE,MAAM,CAAEE,CAHV,CAIE,KAAK,CAAErB,CAAK,CAAC+B,KAAN,QAJT,CAKE,IAAI,CAAC,MALP,CAME,IAAI,CAAE5B,CANR,CAOE,MAAM,CAAED,CAPV,CAQE,MAAM,CAAEE,CARV,CASE,OAAO,CAAEJ,CAAK,CAACgC,OATjB,CAUE,OAAO,CAAEhC,CAAK,CAACiC,OAVjB,CAWE,IAAI,CAAE5B,CAXR,CAYE,SAAS,CAAEC,CAZb,CAaE,QAAQ,CAAEN,CAAK,CAACkC,QAblB,CAcE,wBAAwB,CAAEpB,CAd5B,CAeE,iBAAiB,CAAEL,CAfrB,CAgBE,mBAAmB,CAAEI,CAhBvB,CAiBE,mBAAmB,CAAEF,CAjBvB,CAkBE,MAAM,CAAEf,iBAAiB,CAACI,CAAK,CAACmC,KAAP,CAlB3B,EATF,CA+BH,CAjF0E,CAAtE"}