import{useEffect,useMemo,useState}from"react";import{isDateInRange}from"./isDateInRange";var calculateCurrentVisibleDate=function(a){var b=a.currentVisibleDate,c=a.minDate,d=a.maxDate,e=a.value;if(b)return b;if(Array.isArray(e)&&e[0])return e[0];if(Array.isArray(e)&&e[1])return e[1];if(e&&!Array.isArray(e))return e;var f=new Date;if(c&&d&&!isDateInRange(f,[c,d]))return c;if(c&&!d){var g=c.getTime(),h=f.getTime();if(h<g)return c}if(!c&&d){var i=d.getTime(),j=f.getTime();if(j>i)return d}return f};export var getCurrentVisibleDate=function(a){return a.startOfUnit(calculateCurrentVisibleDate(a))};export var useCurrentVisibleDate=function(a){var b,c,d,e,f=useMemo(function(){return getCurrentVisibleDate(a)},[(null===(b=a.currentVisibleDate)||void 0===b?void 0:b.getTime())||0,(null===(c=a.minDate)||void 0===c?void 0:c.getTime())||0,(null===(d=a.maxDate)||void 0===d?void 0:d.getTime())||0]),g=useState(f);return useEffect(function(){return g[1](f)},[f.getTime()]),useEffect(function(){var b;return g[0]&&(null===(b=a.onChangeCurrentVisibleDate)||void 0===b?void 0:b.call(a,g[0]))},[null===(e=g[0])||void 0===e?void 0:e.getTime()]),g};
//# sourceMappingURL=useCurrentVisibleDate.js.map