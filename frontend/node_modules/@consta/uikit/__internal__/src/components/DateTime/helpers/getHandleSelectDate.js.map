{"version":3,"file":"getHandleSelectDate.js","names":["isDefined","getHandleSelectDate","props","callbackProps","onChange","onChangeRange","currentValue","Array","isArray","value","startDate","endDate","isEqualUnit","e"],"sources":["../../../../../../src/components/DateTime/helpers/getHandleSelectDate.ts"],"sourcesContent":["import { isDefined } from '../../../utils/type-guards';\nimport { DateRange } from '../../../utils/types/Date';\nimport {\n  DateTimePropOnChange,\n  DateTimePropOnChangeRange,\n  DateTimePropValue,\n  HandleSelectDate,\n  СapableRangeType,\n} from './types';\n\ntype GetHandleSelectDateProps = {\n  isEqualUnit: (date1: Date, date2: Date) => boolean;\n  value?: DateTimePropValue<СapableRangeType>;\n  onChange?: DateTimePropOnChange;\n  onChangeRange?: DateTimePropOnChangeRange<СapableRangeType>;\n  minDate?: Date;\n  maxDate?: Date;\n};\n\nexport function getHandleSelectDate(\n  props: GetHandleSelectDateProps,\n): HandleSelectDate {\n  return (callbackProps) => {\n    if (typeof props.onChange === 'function') {\n      props.onChange(callbackProps);\n    }\n\n    if (typeof props.onChangeRange === 'function') {\n      const currentValue: DateRange = (Array.isArray(props.value)\n        ? props.value\n        : [props.value, undefined]) || [undefined, undefined];\n\n      const [startDate, endDate] = currentValue;\n\n      if (\n        isDefined(startDate) &&\n        props.isEqualUnit(startDate, callbackProps.value)\n      ) {\n        return props.onChangeRange({\n          e: callbackProps.e,\n          value: [endDate, undefined],\n        });\n      }\n\n      if (\n        isDefined(endDate) &&\n        props.isEqualUnit(endDate, callbackProps.value)\n      ) {\n        return props.onChangeRange({\n          e: callbackProps.e,\n          value: [startDate, undefined],\n        });\n      }\n\n      if (isDefined(startDate)) {\n        return props.onChangeRange({\n          e: callbackProps.e,\n          value:\n            startDate > callbackProps.value\n              ? [callbackProps.value, startDate]\n              : [startDate, callbackProps.value],\n        });\n      }\n\n      if (isDefined(endDate)) {\n        return props.onChangeRange({\n          e: callbackProps.e,\n          value:\n            endDate > callbackProps.value\n              ? [callbackProps.value, endDate]\n              : [endDate, callbackProps.value],\n        });\n      }\n\n      props.onChangeRange({\n        e: callbackProps.e,\n        value: [callbackProps.value, undefined],\n      });\n    }\n  };\n}\n"],"mappings":"iEAAA,OAASA,SAAT,kCAmBA,MAAO,SAASC,oBAAT,CACLC,CADK,CAEa,CAClB,MAAO,UAACC,CAAD,CAAmB,CAKxB,GAJ8B,UAA1B,QAAOD,EAAK,CAACE,QAIjB,EAHEF,CAAK,CAACE,QAAN,CAAeD,CAAf,CAGF,CAAmC,UAA/B,QAAOD,EAAK,CAACG,aAAjB,CAA+C,IACvCC,EAAuB,CAAG,CAACC,KAAK,CAACC,OAAN,CAAcN,CAAK,CAACO,KAApB,EAC7BP,CAAK,CAACO,KADuB,CAE7B,CAACP,CAAK,CAACO,KAAP,QAF4B,GAEC,eAHY,kBAKhBH,CALgB,IAKtCI,CALsC,MAK3BC,CAL2B,MAO7C,GACEX,SAAS,CAACU,CAAD,CAAT,EACAR,CAAK,CAACU,WAAN,CAAkBF,CAAlB,CAA6BP,CAAa,CAACM,KAA3C,CAFF,CAIE,MAAOP,EAAK,CAACG,aAAN,CAAoB,CACzBQ,CAAC,CAAEV,CAAa,CAACU,CADQ,CAEzBJ,KAAK,CAAE,CAACE,CAAD,QAFkB,CAApB,CAAP,CAMF,GACEX,SAAS,CAACW,CAAD,CAAT,EACAT,CAAK,CAACU,WAAN,CAAkBD,CAAlB,CAA2BR,CAAa,CAACM,KAAzC,CAFF,CAIE,MAAOP,EAAK,CAACG,aAAN,CAAoB,CACzBQ,CAAC,CAAEV,CAAa,CAACU,CADQ,CAEzBJ,KAAK,CAAE,CAACC,CAAD,QAFkB,CAApB,CAAP,CAMF,GAAIV,SAAS,CAACU,CAAD,CAAb,CACE,MAAOR,EAAK,CAACG,aAAN,CAAoB,CACzBQ,CAAC,CAAEV,CAAa,CAACU,CADQ,CAEzBJ,KAAK,CACHC,CAAS,CAAGP,CAAa,CAACM,KAA1B,CACI,CAACN,CAAa,CAACM,KAAf,CAAsBC,CAAtB,CADJ,CAEI,CAACA,CAAD,CAAYP,CAAa,CAACM,KAA1B,CALmB,CAApB,CAAP,CASF,GAAIT,SAAS,CAACW,CAAD,CAAb,CACE,MAAOT,EAAK,CAACG,aAAN,CAAoB,CACzBQ,CAAC,CAAEV,CAAa,CAACU,CADQ,CAEzBJ,KAAK,CACHE,CAAO,CAAGR,CAAa,CAACM,KAAxB,CACI,CAACN,CAAa,CAACM,KAAf,CAAsBE,CAAtB,CADJ,CAEI,CAACA,CAAD,CAAUR,CAAa,CAACM,KAAxB,CALmB,CAApB,CAAP,CASFP,CAAK,CAACG,aAAN,CAAoB,CAClBQ,CAAC,CAAEV,CAAa,CAACU,CADC,CAElBJ,KAAK,CAAE,CAACN,CAAa,CAACM,KAAf,QAFW,CAApB,CAID,CACF,CACF"}