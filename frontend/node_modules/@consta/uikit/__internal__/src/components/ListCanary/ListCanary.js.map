{"version":3,"file":"ListCanary.js","names":["React","useMemo","cn","getGroups","withDefaultGetters","ListDivider","ListGroupLabel","ListItem","defaultListPropInnerOffset","defaultListPropSize","cnList","renderHeader","label","first","size","rightSide","labelSpace","dividerSpase","className","List","props","items","onItemClick","groupsProp","groups","disabledProp","disabled","itemSpase","groupLabelSpase","getItemLabel","getItemLeftIcon","getItemLeftSide","getItemRightIcon","getItemRightSide","getItemAs","getItemAttributes","getItemGroupKey","getItemDisabled","getItemActive","getItemChecked","getItemOnClick","getItemRef","getItemStatus","getItemAdditionalClassName","getGroupKey","getGroupLabel","getGroupRightSide","getGroupAdditionalClassName","renderItem","innerOffset","sortGroup","renderItemDefault","item","onClick","handleClick","e","params","leftSide","leftIcon","rightIcon","active","checked","status","as","ref","space","map","group","groupIndex","key","index"],"sources":["../../../../../src/components/ListCanary/ListCanary.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\n\nimport { MixSpaceProps } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\nimport { getGroups } from '##/utils/getGroups';\n\nimport { withDefaultGetters } from './helper';\nimport { ListDivider } from './ListDivider';\nimport { ListGroupLabel } from './ListGroupLabel';\nimport { ListItem } from './ListItem';\nimport {\n  defaultListPropInnerOffset,\n  defaultListPropSize,\n  ListComponent,\n  ListPropRenderItem,\n  ListPropSize,\n} from './types';\n\nexport const cnList = cn('List');\n\nconst renderHeader = (\n  label: string | undefined,\n  first: boolean,\n  size: ListPropSize,\n  rightSide: React.ReactNode,\n  labelSpace: MixSpaceProps | undefined,\n  dividerSpase: MixSpaceProps | undefined,\n  className: string | undefined,\n): React.ReactNode | null => {\n  if (label) {\n    return (\n      <ListGroupLabel\n        size={size}\n        label={label}\n        rightSide={rightSide}\n        space={labelSpace}\n        className={className}\n      />\n    );\n  }\n\n  if (!label && !first) {\n    return (\n      <ListDivider size={size} space={dividerSpase} className={className} />\n    );\n  }\n\n  return null;\n};\n\nexport const List: ListComponent = (props) => {\n  const {\n    items,\n    onItemClick,\n    groups: groupsProp,\n    disabled: disabledProp,\n    itemSpase,\n    groupLabelSpase,\n    dividerSpase,\n    getItemLabel,\n    getItemLeftIcon,\n    getItemLeftSide,\n    getItemRightIcon,\n    getItemRightSide,\n    getItemAs,\n    getItemAttributes,\n    getItemGroupKey,\n    getItemDisabled,\n    getItemActive,\n    getItemChecked,\n    getItemOnClick,\n    getItemRef,\n    getItemStatus,\n    getItemAdditionalClassName,\n    getGroupKey,\n    getGroupLabel,\n    getGroupRightSide,\n    getGroupAdditionalClassName,\n    renderItem,\n    innerOffset = defaultListPropInnerOffset,\n    size = defaultListPropSize,\n    sortGroup,\n  } = withDefaultGetters(props);\n\n  const groups = useMemo(\n    () => getGroups(items, getItemGroupKey, groupsProp, getGroupKey, sortGroup),\n    [groupsProp, items],\n  );\n\n  type ITEM = typeof items[number];\n\n  const renderItemDefault: ListPropRenderItem<ITEM> = (item) => {\n    const onClick = getItemOnClick(item);\n    const disabled = getItemDisabled(item) ?? disabledProp;\n\n    const handleClick: React.MouseEventHandler<HTMLElement> | undefined =\n      !disabled && (onClick || onItemClick)\n        ? (e) => {\n            onClick?.(e);\n            onItemClick?.(item, { e, item });\n          }\n        : undefined;\n\n    const params = {\n      ...(getItemAttributes?.(item) ?? {}),\n      label: getItemLabel(item),\n      disabled,\n      leftSide: getItemLeftSide(item),\n      leftIcon: getItemLeftIcon(item),\n      rightSide: getItemRightSide(item),\n      rightIcon: getItemRightIcon(item),\n      active: getItemActive(item),\n      checked: getItemChecked(item),\n      status: getItemStatus(item),\n      as: getItemAs?.(item),\n      size,\n      onClick: handleClick,\n      innerOffset,\n      ref: (getItemRef?.(item) as React.RefObject<HTMLDivElement>) || undefined,\n      space: itemSpase,\n      className: getItemAdditionalClassName?.(item),\n    };\n\n    return <ListItem {...params} />;\n  };\n\n  return (\n    <>\n      {groups.map((group, groupIndex) => {\n        return (\n          <React.Fragment key={group.key}>\n            {renderHeader(\n              group.group && getGroupLabel(group.group),\n              groupIndex === 0,\n              size,\n              group.group && getGroupRightSide(group.group),\n              groupLabelSpase,\n              dividerSpase,\n              getGroupAdditionalClassName &&\n                group.group &&\n                getGroupAdditionalClassName(group.group),\n            )}\n            {group.items.map((item, index) => {\n              return (\n                <React.Fragment key={`${group.key}-${index}`}>\n                  {(renderItem ?? renderItemDefault)(item)}\n                </React.Fragment>\n              );\n            })}\n          </React.Fragment>\n        );\n      })}\n    </>\n  );\n};\n"],"mappings":"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"}