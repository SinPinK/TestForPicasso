{"version":3,"file":"ChoiceGroup.js","names":["React","forwardRef","useChoiceGroup","cn","getByMap","withDefaultGetters","ChoiceGroupItem","choiceGroupDefaultForm","choiceGroupDefaultSize","choiceGroupDefaultView","choiceGroupWidthDefault","sizeMap","xs","s","m","l","cnChoiceGroup","ChoiceGroupRender","props","ref","size","form","view","width","onlyIcon","iconSizeProp","iconSize","value","multiple","items","getItemLabel","onChange","getItemIcon","name","className","disabled","getItemDisabled","truncate","otherProps","getKey","callBack","getOnChange","getChecked","map","item","idx","itemChecked","itemDisabled","checked","toString","ChoiceGroup"],"sources":["../../../../../src/components/ChoiceGroup/ChoiceGroup.tsx"],"sourcesContent":["import './ChoiceGroup.css';\n\nimport { IconPropSize } from '@consta/icons/Icon';\nimport React, { forwardRef } from 'react';\n\nimport { useChoiceGroup } from '../../hooks/useChoiceGroup/useChoiceGroup';\nimport { cn } from '../../utils/bem';\nimport { getByMap } from '../../utils/getByMap';\nimport { withDefaultGetters } from './helper';\nimport { ChoiceGroupItem } from './Item/ChoiceGroup-Item';\nimport {\n  ChoiceGroupComponent,\n  choiceGroupDefaultForm,\n  choiceGroupDefaultSize,\n  choiceGroupDefaultView,\n  ChoiceGroupPropOnChange,\n  ChoiceGroupProps,\n  ChoiceGroupPropSize,\n  choiceGroupWidthDefault,\n} from './types';\n\nconst sizeMap: Record<ChoiceGroupPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nexport const cnChoiceGroup = cn('ChoiceGroup');\n\nconst ChoiceGroupRender = (\n  props: ChoiceGroupProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    size = choiceGroupDefaultSize,\n    form = choiceGroupDefaultForm,\n    view = choiceGroupDefaultView,\n    width = choiceGroupWidthDefault,\n    onlyIcon,\n    iconSize: iconSizeProp,\n    value = null,\n    multiple = false,\n    items,\n    getItemLabel,\n    onChange,\n    getItemIcon,\n    name,\n    className,\n    disabled = false,\n    getItemDisabled,\n    truncate,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  type Item = typeof items[number];\n\n  const { getOnChange, getChecked } = useChoiceGroup<\n    Item,\n    React.ChangeEvent<HTMLInputElement>\n  >({\n    value: value as Item,\n    getKey: getItemLabel,\n    callBack: onChange as ChoiceGroupPropOnChange<Item, false>,\n    multiple: multiple as false,\n    // привел к типам из-за того что\n    // TS не понимает что параметры для не Multiple и Multiple не могут прийти одновременно\n  });\n\n  const iconSize = getByMap(sizeMap, size, iconSizeProp);\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cnChoiceGroup(\n        { size, form, view, width, onlyIcon, disabled, truncate },\n        [className],\n      )}\n    >\n      {items.map((item, idx) => {\n        const itemChecked = getChecked(item);\n        const itemDisabled = !!getItemDisabled && getItemDisabled(item);\n        return (\n          <React.Fragment key={getItemLabel(item)}>\n            {idx > 0 && (\n              <div\n                className={cnChoiceGroup('Divider', {\n                  checked: itemChecked,\n                  disabled: itemDisabled,\n                })}\n              />\n            )}\n            <ChoiceGroupItem\n              onChange={getOnChange(item)}\n              checked={itemChecked}\n              label={getItemLabel(item).toString()}\n              icon={getItemIcon && getItemIcon(item)}\n              iconSize={iconSize}\n              multiple={multiple}\n              onlyIcon={onlyIcon}\n              name={name}\n              disabled={disabled || itemDisabled}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nexport const ChoiceGroup = forwardRef(\n  ChoiceGroupRender,\n) as ChoiceGroupComponent;\n\nexport * from './types';\n"],"mappings":"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"}