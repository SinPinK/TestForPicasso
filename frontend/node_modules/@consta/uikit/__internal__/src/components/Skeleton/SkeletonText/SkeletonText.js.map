{"version":3,"file":"SkeletonText.js","names":["React","textPropLineHeightDefault","textPropSizeDefault","cn","SkeletonBrick","cnSkeletonText","getRowWidth","idx","total","SkeletonText","className","rows","fontSize","lineHeight","varFontSize","varLineHeight","Array","fill","map","_v","height"],"sources":["../../../../../../src/components/Skeleton/SkeletonText/SkeletonText.tsx"],"sourcesContent":["import './SkeletonText.css';\n\nimport React from 'react';\n\nimport {\n  TextPropLineHeight,\n  textPropLineHeightDefault,\n  TextPropSize,\n  textPropSizeDefault,\n} from '##/components/Text';\nimport { cn } from '##/utils/bem';\n\nimport { SkeletonBrick } from '../Skeleton';\n\ntype SkeletonTextProps = {\n  className?: string;\n  rows: number;\n  fontSize?: TextPropSize;\n  lineHeight?: TextPropLineHeight;\n};\n\nconst cnSkeletonText = cn('SkeletonText');\n\nexport const getRowWidth = (\n  idx: number,\n  total: number,\n): React.ComponentProps<typeof SkeletonBrick>['height'] => {\n  if (idx === total - 1) {\n    return '50%';\n  }\n\n  switch (idx % 3) {\n    case 0:\n      return '100%';\n    case 1:\n      return '85%';\n    case 2:\n      return '93%';\n  }\n\n  return '100%';\n};\n\nexport const SkeletonText: React.FC<SkeletonTextProps> = ({\n  className,\n  rows,\n  fontSize = textPropSizeDefault,\n  lineHeight = textPropLineHeightDefault,\n}) => {\n  const varFontSize = `var(--size-text-${fontSize})`;\n  const varLineHeight = `var(--line-height-text-${lineHeight})`;\n  return (\n    <div\n      className={cnSkeletonText(null, [className])}\n      key={\n        /* форсируем полный ререндер компонента при смене количества строк,\n          чтобы анимация у всех строк запустилась заново */\n        rows\n      }\n    >\n      {new Array(rows).fill(null).map((_v, idx) => (\n        <div\n          key={idx}\n          className={cnSkeletonText('Row')}\n          style={{ fontSize: varFontSize, height: varLineHeight }}\n        >\n          <SkeletonBrick width={getRowWidth(idx, rows)} height={varFontSize} />\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"mappings":"AAAA,2BAEA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAEEC,yBAFF,CAIEC,mBAJF,kBAMA,OAASC,EAAT,0BAEA,OAASC,aAAT,mBASA,GAAMC,eAAc,CAAGF,EAAE,CAAC,cAAD,CAAzB,CAEA,MAAO,IAAMG,YAAW,CAAG,SACzBC,CADyB,CAEzBC,CAFyB,CAGgC,CACzD,GAAID,CAAG,GAAKC,CAAK,CAAG,CAApB,CACE,MAAO,KAAP,CAGF,OAAQD,CAAG,CAAG,CAAd,EACE,IAAK,EAAL,CACE,MAAO,MAAP,CACF,IAAK,EAAL,CACE,MAAO,KAAP,CACF,IAAK,EAAL,CACE,MAAO,KAAP,CANJ,CASA,MAAO,MACR,CAlBM,CAoBP,MAAO,IAAME,aAAyC,CAAG,WAKnD,IAJJC,EAII,GAJJA,SAII,CAHJC,CAGI,GAHJA,IAGI,KAFJC,QAEI,CAFJA,CAEI,YAFOV,mBAEP,OADJW,UACI,CADJA,CACI,YADSZ,yBACT,GACEa,CAAW,2BAAsBF,CAAtB,KADb,CAEEG,CAAa,kCAA6BF,CAA7B,KAFf,CAGJ,MACE,4BACE,SAAS,CAAER,cAAc,CAAC,IAAD,CAAO,CAACK,CAAD,CAAP,CAD3B,CAEE,GAAG,CAGDC,CALJ,EAQOK,KAAJ,CAAUL,CAAV,EAAgBM,IAAhB,CAAqB,IAArB,EAA2BC,GAA3B,CAA+B,SAACC,CAAD,CAAKZ,CAAL,QAC9B,4BACE,GAAG,CAAEA,CADP,CAEE,SAAS,CAAEF,cAAc,CAAC,KAAD,CAF3B,CAGE,KAAK,CAAE,CAAEO,QAAQ,CAAEE,CAAZ,CAAyBM,MAAM,CAAEL,CAAjC,CAHT,EAKE,oBAAC,aAAD,EAAe,KAAK,CAAET,WAAW,CAACC,CAAD,CAAMI,CAAN,CAAjC,CAA8C,MAAM,CAAEG,CAAtD,EALF,CAD8B,CAA/B,CARH,CAmBH,CA5BM"}