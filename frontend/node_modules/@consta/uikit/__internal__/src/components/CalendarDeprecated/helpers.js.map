{"version":3,"file":"helpers.js","names":["addDays","differenceInDays","endOfMonth","endOfWeek","format","isBefore","isSameDay","isWithinInterval","startOfDay","startOfMonth","startOfWeek","eachDayOfInterval","useEffect","useMemo","useState","range","isDateRange","isOnlyOneDateInRange","isDefined","calendarPropView","calendarPropViewDefault","calendarPropType","calendarPropTypeDefault","isEqualDate","date1","date2","getTime","isEqualDay","dateComparer","a","b","getStartAndEndDate","sort","isDateSelected","date","value","isValueSelected","start","end","isValueSelectedBackwards","hoveredDate","isSelected","Array","isArray","find","item","isDateInRange","dateTime","rangeTime","hasEvent","events","eventDate","isToday","Date","isWithInIntervalMinMaxDade","minDate","maxDate","minDateTime","maxDateTime","getDaysOfMonth","props","locale","handleDayClick","currentMonth","getMonth","startDate","endDate","diffDays","map","index","number","onClick","e","selected","event","today","disabled","isDateRangeParams","params","type","isNotDateRangeParams","getHandleSelectDate","currentValue","onChange","getMonthTitle","getMouthLabelWithYear","getFullYear","getDaysOfWeek","now","getCurrentVisibleDate","currentVisibleDate","currentDate","currentDateTime","useCurrentVisibleDate","state"],"sources":["../../../../../src/components/CalendarDeprecated/helpers.ts"],"sourcesContent":["import {\n  addDays,\n  differenceInDays,\n  endOfMonth,\n  endOfWeek,\n  format,\n  isBefore,\n  isSameDay,\n  isWithinInterval,\n  Locale,\n  startOfDay,\n  startOfMonth,\n  startOfWeek,\n} from 'date-fns';\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport React, { useEffect, useMemo, useState } from 'react';\n\nimport { range } from '../../utils/array';\nimport { isDateRange, isOnlyOneDateInRange } from '../../utils/date';\nimport { isDefined } from '../../utils/type-guards';\nimport { DateRange } from '../../utils/types/Date';\nimport { PropsWithHTMLAttributesAndRef } from '../../utils/types/PropsWithHTMLAttributes';\nimport { CalendarCellPropRange } from './CalendarCell/CalendarCell';\n\nexport const calendarPropView = ['oneMonth', 'twoMonths', 'slider'] as const;\nexport type CalendarPropView = typeof calendarPropView[number];\nexport const calendarPropViewDefault: CalendarPropView = calendarPropView[0];\n\nexport const calendarPropType = ['date', 'date-range'] as const;\nexport type CalendarPropType = typeof calendarPropType[number];\nexport const calendarPropTypeDefault: CalendarPropType = calendarPropType[0];\n\nexport type CalendarPropValue<TYPE extends CalendarPropType> =\n  TYPE extends 'date' ? Date : DateRange;\n\nexport type CalendarPropOnChange<TYPE extends CalendarPropType> = (props: {\n  value: CalendarPropValue<TYPE>;\n  e: React.MouseEvent<HTMLDivElement>;\n}) => void;\n\nexport type CalendarProps<TYPE extends CalendarPropType> =\n  PropsWithHTMLAttributesAndRef<\n    {\n      currentVisibleDate?: Date;\n      type?: TYPE;\n      value?: CalendarPropValue<TYPE>;\n      onChange?: CalendarPropOnChange<TYPE>;\n      minDate?: Date;\n      maxDate?: Date;\n      events?: Date[];\n      view?: CalendarPropView;\n      locale?: Locale;\n    },\n    HTMLDivElement\n  >;\n\nexport type CalendarComponent = <TYPE extends CalendarPropType>(\n  props: CalendarProps<TYPE>,\n) => React.ReactElement | null;\n\nexport type CalendarViewComponent = <TYPE extends CalendarPropType>(\n  props: Omit<CalendarProps<TYPE>, 'view'>,\n) => React.ReactElement | null;\n\nconst isEqualDate = (date1: Date, date2: Date): boolean =>\n  date1.getTime() === date2.getTime();\n\nconst isEqualDay = (date1: Date, date2: Date): boolean =>\n  isEqualDate(startOfDay(date1), startOfDay(date2));\n\nexport const dateComparer = (a?: Date, b?: Date): number =>\n  (a?.getTime() ?? 0) - (b?.getTime() ?? 0);\n\nexport const getStartAndEndDate = (date1: Date, date2: Date): Date[] =>\n  [date1, date2].sort(dateComparer);\n\nexport const isDateSelected = ({\n  date,\n  value,\n}: {\n  date: Date;\n  value?: Date;\n}): boolean => {\n  return value ? isSameDay(value, date) : false;\n};\n\nexport const isValueSelected = ({\n  date,\n  value,\n}: {\n  date: Date;\n  value?: Date | DateRange;\n}): boolean => {\n  if (isDateRange(value)) {\n    if (value[0] && value[1]) {\n      const [start, end] = getStartAndEndDate(value[0], value[1]);\n      return isWithinInterval(date, { start, end });\n    }\n\n    return isDateSelected({ date, value: value[0] || value[1] });\n  }\n  return isDateSelected({ date, value });\n};\n\nexport const isValueSelectedBackwards = ({\n  value,\n  hoveredDate,\n}: {\n  value?: Date | DateRange;\n  hoveredDate?: Date;\n}): boolean | undefined => {\n  return (\n    hoveredDate &&\n    isDateRange(value) &&\n    isOnlyOneDateInRange(value) &&\n    ((isDefined(value[0]) && isBefore(hoveredDate, value[0])) ||\n      (isDefined(value[1]) && isBefore(hoveredDate, value[1])))\n  );\n};\n\nconst isSelected = ({\n  date,\n  value,\n}: {\n  date: Date;\n  value?: Date | DateRange;\n}): boolean => {\n  if (!value) {\n    return false;\n  }\n\n  if (Array.isArray(value)) {\n    return !!value.find((item) => (item ? isEqualDay(date, item) : false));\n  }\n\n  return isEqualDay(date, value);\n};\n\nconst isDateInRange = (date: Date, range: DateRange): CalendarCellPropRange => {\n  if (!range[0] || !range[1]) {\n    return false;\n  }\n\n  const dateTime = date.getTime();\n  const rangeTime = [range[0].getTime(), range[1].getTime()];\n\n  if (dateTime === rangeTime[0]) {\n    return 'first';\n  }\n\n  if (dateTime === rangeTime[1]) {\n    return 'last';\n  }\n\n  if (dateTime > rangeTime[0] && dateTime < rangeTime[1]) {\n    return true;\n  }\n\n  return false;\n};\n\nconst hasEvent = (date: Date, events: Date[]): boolean =>\n  !!events.find((eventDate) => isEqualDay(eventDate, date));\n\nconst isToday = (date: Date): boolean => isEqualDay(new Date(), date);\n\nconst isWithInIntervalMinMaxDade = (\n  date: Date,\n  minDate?: Date,\n  maxDate?: Date,\n): boolean => {\n  const minDateTime = minDate?.getTime();\n  const maxDateTime = maxDate?.getTime();\n\n  if (minDate && maxDate && minDateTime && maxDateTime) {\n    return minDateTime < maxDateTime\n      ? isWithinInterval(date, { start: minDate, end: maxDate })\n      : false;\n  }\n\n  const dateTime = date.getTime();\n\n  if (minDateTime && !maxDateTime) {\n    return minDateTime < dateTime;\n  }\n\n  if (!minDateTime && maxDateTime) {\n    return maxDateTime > dateTime;\n  }\n\n  return true;\n};\n\nexport const getDaysOfMonth = (props: {\n  date: Date;\n  locale: Locale;\n  handleDayClick?: HandleSelectDate;\n  value?: Date | DateRange;\n  events?: Date[];\n  minDate?: Date;\n  maxDate?: Date;\n}): {\n  disabled?: boolean;\n  onClick?: React.MouseEventHandler<HTMLDivElement>;\n  number: string;\n  selected?: boolean;\n  range?: CalendarCellPropRange;\n  event?: boolean;\n  today?: boolean;\n}[] => {\n  const { date, locale, handleDayClick, value, events, minDate, maxDate } =\n    props;\n  const currentMonth = date.getMonth();\n  const startDate = startOfWeek(startOfMonth(date), { locale });\n  const endDate = endOfWeek(endOfMonth(date), { locale });\n  const diffDays = differenceInDays(endDate, startDate) + 1;\n\n  return range(diffDays).map((index) => {\n    const date = addDays(startDate, index);\n    const number = format(date, 'd');\n\n    if (date.getMonth() === currentMonth) {\n      return {\n        number,\n        onClick: handleDayClick\n          ? (e: React.MouseEvent<HTMLDivElement>) =>\n              handleDayClick({ e, value: date })\n          : undefined,\n        selected: isSelected({ date, value }),\n        range: Array.isArray(value) && isDateInRange(date, value),\n        event: events && hasEvent(date, events),\n        today: isToday(date),\n        disabled: !isWithInIntervalMinMaxDade(date, minDate, maxDate),\n      };\n    }\n\n    return {\n      number,\n      disabled: true,\n    };\n  });\n};\n\ntype GetHandleSelectDateProps<TYPE extends CalendarPropType> = {\n  type: TYPE;\n  value?: CalendarPropValue<TYPE>;\n  onChange?: CalendarPropOnChange<TYPE>;\n  minDate?: Date;\n  maxDate?: Date;\n};\n\ntype HandleSelectDate = (props: {\n  value: Date;\n  e: React.MouseEvent<HTMLDivElement>;\n}) => void;\n\nconst isDateRangeParams = (\n  params: GetHandleSelectDateProps<CalendarPropType>,\n): params is GetHandleSelectDateProps<'date-range'> => {\n  return params.type === calendarPropType[1];\n};\n\nconst isNotDateRangeParams = (\n  params: GetHandleSelectDateProps<CalendarPropType>,\n): params is GetHandleSelectDateProps<'date'> => {\n  return params.type === calendarPropType[0];\n};\n\nexport function getHandleSelectDate<TYPE extends CalendarPropType>(\n  params: GetHandleSelectDateProps<TYPE>,\n): HandleSelectDate {\n  if (isDateRangeParams(params)) {\n    const currentValue: DateRange = params.value || [undefined, undefined];\n\n    return ({ value: date, e }) => {\n      if (\n        params.minDate &&\n        params.maxDate &&\n        !isWithinInterval(date, { start: params.minDate, end: params.maxDate })\n      ) {\n        return;\n      }\n\n      if (\n        !isOnlyOneDateInRange(currentValue) &&\n        typeof params.onChange === 'function'\n      ) {\n        return params.onChange({ e, value: [date, undefined] });\n      }\n\n      const [startDate, endDate] = currentValue;\n\n      if (\n        (isDefined(startDate) && isEqualDay(startDate, date)) ||\n        (isDefined(endDate) && isEqualDay(endDate, date))\n      ) {\n        return;\n      }\n\n      if (isDefined(startDate) && typeof params.onChange === 'function') {\n        return params.onChange({\n          e,\n          value: startDate > date ? [date, startDate] : [startDate, date],\n        });\n      }\n\n      if (isDefined(endDate) && typeof params.onChange === 'function') {\n        return params.onChange({\n          e,\n          value: endDate > date ? [date, endDate] : [endDate, date],\n        });\n      }\n    };\n  }\n\n  if (isNotDateRangeParams(params)) {\n    return (props) => {\n      if (\n        !isWithInIntervalMinMaxDade(props.value, params.minDate, params.maxDate)\n      ) {\n        return;\n      }\n      if (typeof params.onChange === 'function') {\n        return params.onChange(props);\n      }\n    };\n  }\n\n  return () => undefined;\n}\n\nexport const getMonthTitle = (date: Date, locale: Locale): string => {\n  return format(date, 'LLLL', { locale });\n};\n\nexport const getMouthLabelWithYear = (date: Date, locale: Locale): string => {\n  return `${getMonthTitle(date, locale)} ${date.getFullYear()}`;\n};\n\nexport const getDaysOfWeek = (locale: Locale): string[] => {\n  const now = new Date();\n  return eachDayOfInterval({\n    start: startOfWeek(now, { locale }),\n    end: endOfWeek(now, { locale }),\n  }).map((date) => format(date, 'EEEEEE', { locale }));\n};\n\ntype GetCurrentVisibleDateProps = {\n  currentVisibleDate: Date | undefined;\n  minDate: Date | undefined;\n  maxDate: Date | undefined;\n  value: Date | DateRange | undefined;\n};\n\nconst getCurrentVisibleDate = ({\n  currentVisibleDate,\n  minDate,\n  maxDate,\n  value,\n}: GetCurrentVisibleDateProps): Date => {\n  const currentDate = new Date();\n  if (currentVisibleDate) {\n    return currentVisibleDate;\n  }\n  if (Array.isArray(value) && value[0]) {\n    return value[0];\n  }\n  if (Array.isArray(value) && value[1]) {\n    return value[1];\n  }\n  if (value && !Array.isArray(value)) {\n    return value;\n  }\n\n  if (minDate && maxDate && !isDateInRange(currentDate, [minDate, maxDate])) {\n    return minDate;\n  }\n  if (minDate && !maxDate) {\n    const minDateTime = minDate.getTime();\n    const currentDateTime = currentDate.getTime();\n    if (currentDateTime < minDateTime) {\n      return minDate;\n    }\n  }\n  if (!minDate && maxDate) {\n    const maxDateTime = maxDate.getTime();\n    const currentDateTime = currentDate.getTime();\n    if (currentDateTime > maxDateTime) {\n      return maxDate;\n    }\n  }\n\n  return currentDate;\n};\n\nexport const useCurrentVisibleDate = (props: GetCurrentVisibleDateProps) => {\n  const currentVisibleDate = useMemo(() => {\n    return startOfMonth(getCurrentVisibleDate(props));\n  }, [\n    props.currentVisibleDate?.getTime() || 0,\n    props.minDate?.getTime() || 0,\n    props.maxDate?.getTime() || 0,\n  ]);\n\n  const state = useState(currentVisibleDate);\n\n  useEffect(() => state[1](currentVisibleDate), [currentVisibleDate.getTime()]);\n\n  return state;\n};\n"],"mappings":"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"}