{"version":3,"file":"useSlider.js","names":["useCallback","useEffect","useMemo","useRef","useState","useComponentSize","useMutableRef","getActiveValue","getNewValue","getValidValue","getValueByPosition","isNotRangeParams","isRangeParams","trackPosition","COUNT_STEPS","useSlider","props","disabled","range","value","min","max","step","onChange","onAfterChange","sliderRef","buttonRefs","minValue","maxValue","dragStepValue","Array","isArray","val","Math","abs","currentValue","setCurrentValue","leftPopover","setLeftPopover","rightPopover","setRightPopover","activeButton","sizeSlider","lastValue","controlListeners","type","method","document","handleRelease","handleTouchMove","setTooltipPosition","JSON","stringify","current","targetValue","newValue","onKeyPress","event","typeButton","stepIncrement","validKeyCode","changedValue","key","forEach","stepPoint","index","e","position","button","getBoundingClientRect","x","width","newPosition","y","offsetTop","offsetHeight","changePosition","positionValue","oldValue","copyValues","sort","a","b","handlePress","onFocus","onSliderClick","pageX","pageY","popoverPosition"],"sources":["../../../../../../src/components/Slider/useSlider/useSlider.ts"],"sourcesContent":["import React, {\n  MutableRefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useComponentSize } from '../../../hooks/useComponentSize/useComponentSize';\nimport { useMutableRef } from '../../../hooks/useMutableRef/useMutableRef';\nimport { SliderValue, TrackPosition } from '../helper';\nimport {\n  ActiveButton,\n  getActiveValue,\n  getNewValue,\n  getValidValue,\n  getValueByPosition,\n  isNotRangeParams,\n  isRangeParams,\n  trackPosition,\n  UseSliderProps,\n  UseSliderValues,\n} from './helper';\n\nexport const COUNT_STEPS = 250;\n\nexport function useSlider<RANGE extends boolean>(\n  props: UseSliderProps<RANGE>,\n): UseSliderValues {\n  const {\n    disabled,\n    range,\n    value,\n    min,\n    max,\n    step = 1,\n    onChange,\n    onAfterChange,\n    sliderRef,\n    buttonRefs,\n  } = props;\n\n  const minValue = max > min ? min : 0;\n  const maxValue = max > min ? max : 100;\n\n  const dragStepValue = useMemo(() => {\n    if (!Array.isArray(step)) {\n      if (step >= 1) {\n        const val = Math.abs((maxValue - minValue) / COUNT_STEPS);\n        if (val > step) {\n          return val - (val % step);\n        }\n        return Math.max(val, step);\n      }\n    }\n    return step;\n  }, [max, min, step]);\n\n  const [currentValue, setCurrentValue] = useState<number | [number, number]>(\n    value,\n  );\n  const [leftPopover, setLeftPopover] = useState<TrackPosition>(null);\n  const [rightPopover, setRightPopover] = useState<TrackPosition>(null);\n\n  const activeButton: MutableRefObject<ActiveButton | null> = useRef(null);\n\n  const sizeSlider = useComponentSize(sliderRef);\n\n  const lastValue = useMutableRef(currentValue);\n\n  useEffect(() => {\n    if (disabled) {\n      controlListeners('remove');\n    }\n  }, [disabled]);\n\n  const controlListeners = (type: 'add' | 'remove') => {\n    const method = type === 'add' ? 'addEventListener' : 'removeEventListener';\n    document[method]('mouseup', handleRelease);\n    document[method]('touchend', handleRelease);\n    document[method]('mousemove', handleTouchMove);\n    document[method]('touchmove', handleTouchMove);\n  };\n\n  useEffect(() => {\n    if (Array.isArray(currentValue)) {\n      setTooltipPosition(currentValue[0], 0);\n      setTooltipPosition(currentValue[1], 1);\n    } else {\n      setTooltipPosition(currentValue, 0);\n    }\n  }, [currentValue]);\n\n  useEffect(() => {\n    if (JSON.stringify(value) !== JSON.stringify(currentValue)) {\n      setCurrentValue(value);\n      setTooltipPosition(getActiveValue(value, activeButton.current), 0);\n      activeButton.current = null;\n    }\n  }, [value]);\n\n  useEffect(() => {\n    onChange?.({\n      value: Array.isArray(currentValue)\n        ? ([\n            getNewValue(currentValue[0], currentValue[0], step, min, max, 0),\n            getNewValue(currentValue[1], currentValue[1], step, min, max, 1),\n          ] as SliderValue<RANGE>)\n        : (getNewValue(\n            currentValue,\n            currentValue,\n            step,\n            min,\n            max,\n            0,\n          ) as SliderValue<RANGE>),\n    });\n  }, [step]);\n\n  useEffect(() => {\n    if (typeof value !== 'undefined') {\n      const targetValue = isRangeParams(props)\n        ? ([\n            getValidValue(props.value[0], min, max, step),\n            getValidValue(props.value[1], min, max, step),\n          ] as [number, number])\n        : getValidValue(props.value as number, min, max, step);\n      setCurrentValue(targetValue);\n    }\n  }, [range, typeof value]);\n\n  useEffect(() => {\n    if (isRangeParams(props)) {\n      if (props.value[0] > props.value[1]) {\n        const newValue: SliderValue<true> = [props.value[1], props.value[1]];\n        props.onChange?.({ value: newValue });\n      }\n    }\n  }, []);\n\n  const onSliderClick = (e: React.MouseEvent) => {\n    if (isNotRangeParams(props)) {\n      const positionValue = getValueByPosition(\n        { x: e.pageX, y: e.pageY },\n        sliderRef,\n        minValue,\n        maxValue,\n        step,\n      );\n      const newValue = getNewValue(\n        positionValue,\n        currentValue,\n        dragStepValue,\n        min,\n        max,\n        activeButton.current,\n      );\n      if (newValue !== value) {\n        setCurrentValue(newValue);\n        setTooltipPosition(getActiveValue(newValue, 0), 0);\n        onChange?.({\n          e,\n          value: newValue as SliderValue<RANGE>,\n        });\n      }\n    }\n  };\n\n  const onKeyPress = useCallback(\n    (event: React.KeyboardEvent, typeButton: ActiveButton) => {\n      if (\n        !disabled &&\n        typeof typeButton === 'number' &&\n        typeof currentValue !== 'undefined'\n      ) {\n        let stepIncrement = !Array.isArray(step) ? step || 1 : 1;\n        let validKeyCode = false;\n        const changedValue = getActiveValue(currentValue, typeButton);\n        switch (event.key) {\n          case 'ArrowUp':\n          case 'ArrowRight':\n          case '+':\n            validKeyCode = true;\n            break;\n          case 'ArrowLeft':\n          case 'ArrowDown':\n          case '-':\n            validKeyCode = true;\n            stepIncrement *= -1;\n            break;\n          default:\n            break;\n        }\n        if (validKeyCode) {\n          if (Array.isArray(step)) {\n            step.forEach((stepPoint, index) => {\n              if (\n                typeof typeButton === 'number' &&\n                changedValue === stepPoint\n              ) {\n                if (stepIncrement >= 0) {\n                  if (index === 0) {\n                    stepIncrement = step[1] - minValue;\n                  } else {\n                    stepIncrement =\n                      (typeof step[index + 1] !== 'undefined'\n                        ? step[index + 1]\n                        : maxValue) - stepPoint;\n                  }\n                } else if (index === 0) {\n                  stepIncrement = minValue - step[1];\n                } else {\n                  stepIncrement =\n                    (typeof step[index - 1] !== 'undefined'\n                      ? step[index - 1]\n                      : minValue) - stepPoint;\n                }\n              }\n            });\n          }\n          const newValue = getNewValue(\n            changedValue + stepIncrement,\n            currentValue,\n            step,\n            min,\n            max,\n            typeButton,\n          );\n          setCurrentValue(newValue);\n          setTooltipPosition(getActiveValue(newValue, typeButton), typeButton);\n          onChange?.({\n            e: event,\n            value: newValue as SliderValue<RANGE>,\n          });\n        }\n      }\n    },\n    [currentValue, step, min, max],\n  );\n\n  const setTooltipPosition = (value: number, position: ActiveButton) => {\n    if (sliderRef.current && typeof position === 'number') {\n      const button = buttonRefs[position].current || sliderRef.current;\n      const { x, width } = sliderRef.current.getBoundingClientRect();\n      const newPosition = {\n        y: button.offsetTop + button.offsetHeight + 50,\n        x: x + Math.abs((value - minValue) / (maxValue - minValue)) * width,\n      };\n      if (position === 0) {\n        setLeftPopover(newPosition);\n      } else {\n        setRightPopover(newPosition);\n      }\n    }\n  };\n\n  const changePosition = (event: Event) => {\n    const nativeEvent = event as MouseEvent | TouchEvent;\n    if (typeof activeButton.current !== 'number') {\n      return value;\n    }\n    const position = trackPosition(nativeEvent);\n    const positionValue = getValueByPosition(\n      position,\n      sliderRef,\n      minValue,\n      maxValue,\n      step,\n    );\n    return getNewValue(\n      positionValue,\n      currentValue,\n      dragStepValue,\n      min,\n      max,\n      activeButton.current,\n    );\n  };\n\n  const onFocus = (\n    e: React.FocusEvent | React.MouseEvent,\n    button: ActiveButton,\n  ) => {\n    activeButton.current = button;\n  };\n\n  const handleTouchMove = (\n    event: MouseEvent | TouchEvent | Event,\n    typeButton?: ActiveButton,\n  ) => {\n    const button = typeButton || activeButton.current;\n    if (typeof button === 'number') {\n      const position = changePosition(event);\n      const oldValue: number = getActiveValue(currentValue, button);\n      const newValue: number = getActiveValue(position, button);\n      setCurrentValue(position);\n      if (oldValue !== newValue) {\n        onAfterChange?.({ e: event, value: position as SliderValue<RANGE> });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (isRangeParams(props)) {\n      props.value?.forEach((val, index) => {\n        setTooltipPosition(\n          getActiveValue(val, activeButton.current),\n          index === 0 ? 0 : 1,\n        );\n      });\n    }\n    if (isNotRangeParams(props)) {\n      setTooltipPosition(getActiveValue(value, activeButton.current), 0);\n    }\n    activeButton.current = null;\n  }, [sizeSlider, typeof value]);\n\n  const handleRelease = useCallback(\n    (e: MouseEvent | TouchEvent | Event) => {\n      controlListeners('remove');\n      if (isRangeParams(props) && Array.isArray(lastValue.current)) {\n        const copyValues = [...lastValue.current].sort(\n          (a, b) => Number(a) - Number(b),\n        ) as SliderValue<true>;\n        props.onChange?.({ e, value: copyValues });\n      }\n      if (isNotRangeParams(props) && typeof lastValue.current === 'number') {\n        props.onChange?.({ e, value: lastValue.current });\n      }\n      activeButton.current = null;\n    },\n    [lastValue, value, onChange, handleTouchMove],\n  );\n\n  const handlePress = useCallback(\n    (typeButton: ActiveButton) => {\n      if (!disabled) {\n        activeButton.current = typeButton;\n        controlListeners('add');\n      }\n    },\n    [currentValue, value, onChange, handleTouchMove, disabled],\n  );\n\n  return {\n    onKeyPress,\n    onFocus,\n    handlePress,\n    onSliderClick,\n    activeButton: activeButton.current,\n    popoverPosition: [leftPopover, rightPopover],\n    currentValue: Array.isArray(currentValue) ? currentValue : [currentValue],\n  };\n}\n"],"mappings":"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"}