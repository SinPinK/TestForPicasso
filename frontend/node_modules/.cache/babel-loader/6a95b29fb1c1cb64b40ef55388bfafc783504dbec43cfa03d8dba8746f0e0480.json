{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"as\", \"className\", \"size\", \"form\", \"url\", \"name\", \"monochrome\", \"style\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport \"./Avatar.css\";\nimport React, { useMemo } from \"react\";\nimport { cn } from \"../../utils/bem\";\nimport { forwardRefWithAs } from \"../../utils/types/PropsWithAsAttributes\";\nexport var avatarPropSize = [\"m\", \"s\", \"xs\", \"l\"];\nexport var avatarPropSizeDefault = avatarPropSize[0];\nexport var avatarPropForm = [\"round\", \"brick\", \"default\"];\nexport var avatarPropFormDefault = avatarPropForm[0];\nexport var cnAvatar = cn(\"Avatar\");\nvar MAX_COLOR_INDEX = 17,\n  getRandomInt = function getRandomInt(a) {\n    return Math.floor(Math.random() * Math.floor(a));\n  };\nexport var getColorIndexForName = function getColorIndexForName(a) {\n  var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : MAX_COLOR_INDEX,\n    c = 2 < arguments.length ? arguments[2] : void 0;\n  if (c) return 18;\n  var d = 0;\n  return d = a ? a.split(\"\").map(function (a) {\n    return a.charCodeAt(0);\n  }).reduce(function (a, b) {\n    return a + b;\n  }, 0) % b : getRandomInt(b), d;\n};\nexport var getInitialsForName = function getInitialsForName(a) {\n  if (!a) return \"\";\n  var b = a.split(\" \"),\n    c = b[0] ? b[0][0] : \"\",\n    d = b[1] ? b[1][0] : \"\";\n  return \"\".concat(c.toUpperCase()).concat(d.toUpperCase());\n};\nexport var Avatar = forwardRefWithAs(function (a, b) {\n  var c = a.as,\n    d = void 0 === c ? \"div\" : c,\n    e = a.className,\n    f = a.size,\n    g = void 0 === f ? avatarPropSizeDefault : f,\n    h = a.form,\n    i = void 0 === h ? avatarPropFormDefault : h,\n    j = a.url,\n    k = a.name,\n    l = a.monochrome,\n    m = a.style,\n    n = _objectWithoutProperties(a, _excluded),\n    o = useMemo(function () {\n      return getInitialsForName(k);\n    }, [k]),\n    p = useMemo(function () {\n      return getColorIndexForName(k, MAX_COLOR_INDEX, l);\n    }, [k, l]);\n  return React.createElement(d, Object.assign({}, n, {\n    style: j ? m : _objectSpread(_objectSpread({}, m), {}, {\n      \"--avatar-color\": \"var(--avatar-color-\".concat(p, \")\")\n    }),\n    className: cnAvatar({\n      size: g,\n      form: i,\n      monochrome: j ? l : void 0\n    }, [e]),\n    ref: b\n  }), j && React.createElement(\"img\", {\n    className: cnAvatar(\"Image\"),\n    src: j,\n    alt: k\n  }), !j && o);\n});","map":{"version":3,"names":["React","useMemo","cn","forwardRefWithAs","avatarPropSize","avatarPropSizeDefault","avatarPropForm","avatarPropFormDefault","cnAvatar","MAX_COLOR_INDEX","getRandomInt","a","Math","floor","random","getColorIndexForName","b","arguments","length","c","d","split","map","charCodeAt","reduce","getInitialsForName","concat","toUpperCase","Avatar","as","e","className","f","size","g","h","form","i","j","url","k","name","l","monochrome","m","style","n","_objectWithoutProperties","_excluded","o","p","createElement","Object","assign","_objectSpread","ref","src","alt"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/node_modules/@consta/src/components/Avatar/Avatar.tsx"],"sourcesContent":["import './Avatar.css';\n\nimport React, { useMemo } from 'react';\n\nimport { cn } from '../../utils/bem';\nimport { forwardRefWithAs } from '../../utils/types/PropsWithAsAttributes';\n\nexport const avatarPropSize = ['m', 's', 'xs', 'l'] as const;\nexport type AvatarPropSize = typeof avatarPropSize[number];\nexport const avatarPropSizeDefault: AvatarPropSize = avatarPropSize[0];\n\nexport const avatarPropForm = ['round', 'brick', 'default'] as const;\nexport type AvatarPropForm = typeof avatarPropForm[number];\nexport const avatarPropFormDefault: AvatarPropForm = avatarPropForm[0];\n\ntype Props = {\n  url?: string;\n  name?: string;\n  size?: AvatarPropSize;\n  form?: AvatarPropForm;\n  children?: never;\n  monochrome?: boolean;\n};\n\nexport const cnAvatar = cn('Avatar');\n\nconst MAX_COLOR_INDEX = 17;\n\nconst getRandomInt = (max: number) => {\n  return Math.floor(Math.random() * Math.floor(max));\n};\n\nexport const getColorIndexForName = (\n  name: string | undefined,\n  maxIndex: number = MAX_COLOR_INDEX,\n  monochrome?: boolean,\n) => {\n  if (monochrome) {\n    return MAX_COLOR_INDEX + 1;\n  }\n\n  let index = 0;\n\n  if (name) {\n    index =\n      name\n        .split('')\n        .map((c) => c.charCodeAt(0))\n        .reduce((acc, code) => acc + code, 0) % maxIndex;\n  } else {\n    index = getRandomInt(maxIndex);\n  }\n\n  return index;\n};\n\nexport const getInitialsForName = (name: string | undefined) => {\n  if (!name) {\n    return '';\n  }\n\n  const words = name.split(' ');\n  const firstLetter = words[0] ? words[0][0] : '';\n  const secondLatter = words[1] ? words[1][0] : '';\n\n  return `${firstLetter.toUpperCase()}${secondLatter.toUpperCase()}`;\n};\n\nexport const Avatar = forwardRefWithAs<Props>((props, ref) => {\n  const {\n    as = 'div',\n    className,\n    size = avatarPropSizeDefault,\n    form = avatarPropFormDefault,\n    url,\n    name,\n    monochrome,\n    style,\n    ...otherProps\n  } = props;\n  const Tag = as as string;\n  const initials = useMemo(() => getInitialsForName(name), [name]);\n  const colorIndex = useMemo(\n    () => getColorIndexForName(name, MAX_COLOR_INDEX, monochrome),\n    [name, monochrome],\n  );\n\n  return (\n    <Tag\n      {...otherProps}\n      style={\n        !url\n          ? { ...style, '--avatar-color': `var(--avatar-color-${colorIndex})` }\n          : style\n      }\n      className={cnAvatar(\n        { size, form, monochrome: url ? monochrome : undefined },\n        [className],\n      )}\n      ref={ref}\n    >\n      {url && <img className={cnAvatar('Image')} src={url} alt={name} />}\n      {!url && initials}\n    </Tag>\n  );\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}