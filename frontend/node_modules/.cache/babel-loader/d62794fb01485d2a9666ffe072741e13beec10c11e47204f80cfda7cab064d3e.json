{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport \"./Icon.css\";\nimport React, { forwardRef, useContext, useEffect, useMemo } from \"react\";\nimport { cnIcons, IconsContext } from \"../../components/IconsProvider\";\nimport { cn } from \"../../utils/bem\";\nexport var iconPropSize = [\"m\", \"s\", \"xs\", \"l\"];\nexport var iconPropSizeDefault = iconPropSize[0];\nexport var iconPropView = [\"primary\", \"alert\", \"brand\", \"ghost\", \"link\", \"secondary\", \"success\", \"warning\", \"disabled\"];\nexport var iconPropViewDefault = iconPropView[0];\nexport var cnIcon = cn(\"Icon\");\nvar renderTypeDefault = {\n  l: \"default\",\n  m: \"default\",\n  s: \"default\",\n  xs: \"default\"\n};\nexport function createIcon(a) {\n  var b = a.name,\n    _a$renderType = a.renderType,\n    c = _a$renderType === void 0 ? renderTypeDefault : _a$renderType,\n    _a$color = a.color,\n    d = _a$color === void 0 ? \"mono\" : _a$color,\n    e = forwardRef(function (e, f) {\n      var g;\n      var _e$size = e.size,\n        j = _e$size === void 0 ? \"m\" : _e$size,\n        h = e.className,\n        i = e.view,\n        k = a[j],\n        _useContext = useContext(IconsContext),\n        l = _useContext.addIcon,\n        m = _useContext.removeIcon,\n        n = useMemo(function () {\n          return \"use\" === c[j] ? k({\n            className: cnIcon(\"Svg\", {\n              color: d\n            })\n          }) : null;\n        }, [k]),\n        o = null !== (g = null === n || void 0 === n ? void 0 : n.props) && void 0 !== g ? g : {},\n        p = o.children,\n        q = _objectWithoutProperties(o, _excluded);\n      return useEffect(function () {\n        \"use\" === c[j] && (null === l || void 0 === l ? void 0 : l(b, j, n));\n      }, [n, c, j]), useEffect(function () {\n        return function () {\n          \"use\" === c[j] && (null === m || void 0 === m ? void 0 : m(b, j));\n        };\n      }, [k, c, j]), React.createElement(\"span\", Object.assign({}, e, {\n        className: cnIcon({\n          size: j,\n          view: i,\n          color: d\n        }, [b, h]),\n        ref: f\n      }), l && \"use\" === c[j] ? React.createElement(\"svg\", q, React.createElement(\"use\", {\n        x: \"0\",\n        y: \"0\",\n        xlinkHref: \"#\".concat(cnIcons(\"\".concat(b, \"_\").concat(j)))\n      })) : React.createElement(k, {\n        className: cnIcon(\"Svg\")\n      }));\n    });\n  return e;\n}","map":{"version":3,"names":["React","forwardRef","useContext","useEffect","useMemo","cnIcons","IconsContext","cn","iconPropSize","iconPropSizeDefault","iconPropView","iconPropViewDefault","cnIcon","renderTypeDefault","l","m","s","xs","createIcon","a","b","name","_a$renderType","renderType","c","_a$color","color","d","e","f","g","_e$size","size","j","h","className","i","view","k","_useContext","addIcon","removeIcon","n","o","props","p","children","q","_objectWithoutProperties","_excluded","createElement","Object","assign","ref","x","y","xlinkHref","concat"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/node_modules/@consta/src/icons/Icon/Icon.tsx"],"sourcesContent":["import './Icon.css';\n\nimport React, { forwardRef, useContext, useEffect, useMemo } from 'react';\n\nimport { cnIcons, IconsContext } from '##/components/IconsProvider';\n\nimport { cn } from '../../utils/bem';\nimport { PropsWithHTMLAttributesAndRef } from '../../utils/types/PropsWithHTMLAttributes';\n\nexport const iconPropSize = ['m', 's', 'xs', 'l'] as const;\nexport type IconPropSize = typeof iconPropSize[number];\nexport const iconPropSizeDefault = iconPropSize[0];\n\nexport const iconPropView = [\n  'primary',\n  'alert',\n  'brand',\n  'ghost',\n  'link',\n  'secondary',\n  'success',\n  'warning',\n  'disabled',\n] as const;\nexport type IconPropView = typeof iconPropView[number];\nexport const iconPropViewDefault = iconPropView[0];\n\nexport type IconProps = PropsWithHTMLAttributesAndRef<\n  {\n    view?: IconPropView;\n    size?: IconPropSize;\n  },\n  HTMLSpanElement\n>;\n\nexport type IconComponent = React.FC<IconProps>;\n\nexport const cnIcon = cn('Icon');\n\nconst renderTypeDefault = {\n  l: 'default',\n  m: 'default',\n  s: 'default',\n  xs: 'default',\n};\n\nexport type CreateIconRenderType = {\n  l?: 'use' | 'default';\n  m?: 'use' | 'default';\n  s?: 'use' | 'default';\n  xs?: 'use' | 'default';\n};\n\nexport type CreateIconArguments = {\n  l: React.FC<React.SVGProps<SVGSVGElement>>;\n  m: React.FC<React.SVGProps<SVGSVGElement>>;\n  s: React.FC<React.SVGProps<SVGSVGElement>>;\n  xs: React.FC<React.SVGProps<SVGSVGElement>>;\n  name: string;\n  renderType?: CreateIconRenderType;\n  color?: 'mono' | 'multiple';\n};\n\nexport function createIcon(createProps: CreateIconArguments) {\n  const { name, renderType = renderTypeDefault, color = 'mono' } = createProps;\n  const IconComponent: IconComponent = forwardRef<HTMLSpanElement, IconProps>(\n    (props, ref) => {\n      const { size = 'm', className, view } = props;\n      const Svg = createProps[size];\n      const { addIcon, removeIcon } = useContext(IconsContext);\n\n      const SvgElement = useMemo(() => {\n        return renderType[size] === 'use'\n          ? Svg({ className: cnIcon('Svg', { color }) })\n          : null;\n      }, [Svg]);\n\n      const { children, ...otherProps } = SvgElement?.props ?? {};\n\n      useEffect(() => {\n        if (renderType[size] === 'use') {\n          addIcon?.(name, size, SvgElement);\n        }\n      }, [SvgElement, renderType, size]);\n\n      useEffect(() => {\n        return () => {\n          if (renderType[size] === 'use') {\n            removeIcon?.(name, size);\n          }\n        };\n      }, [Svg, renderType, size]);\n\n      return (\n        <span\n          {...props}\n          className={cnIcon({ size, view, color }, [name, className])}\n          ref={ref}\n        >\n          {addIcon && renderType[size] === 'use' ? (\n            <svg {...otherProps}>\n              <use x=\"0\" y=\"0\" xlinkHref={`#${cnIcons(`${name}_${size}`)}`} />\n            </svg>\n          ) : (\n            <Svg className={cnIcon('Svg')} />\n          )}\n        </span>\n      );\n    },\n  );\n\n  return IconComponent;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}