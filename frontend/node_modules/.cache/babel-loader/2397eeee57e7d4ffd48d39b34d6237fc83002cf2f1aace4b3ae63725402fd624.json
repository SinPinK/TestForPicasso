{"ast":null,"code":"import _defineProperty2 from \"/Users/kateishutina/Desktop/\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/TestForPicasso/testForPicasso/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/kateishutina/Desktop/\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/TestForPicasso/testForPicasso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport \"./IconsProvider.css\";\nimport React, { createContext, useMemo, useState } from \"react\";\nimport { cn } from \"../../utils/bem\";\nimport { IconsProviderList } from \"./IconsProviderList/IconsProviderList\";\nvar defaultContextValue = {\n  addIcon: void 0,\n  removeIcon: void 0\n};\nexport var cnIcons = cn(\"Icons\");\nexport var IconsContext = createContext(defaultContextValue);\nexport var IconsProvider = function IconsProvider(_ref) {\n  var a = _ref.children,\n    _ref$container = _ref.container,\n    b = _ref$container === void 0 ? window.document.body : _ref$container;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    c = _useState2[0],\n    d = _useState2[1],\n    e = useMemo(function () {\n      return {\n        addIcon: function addIcon(a) {\n          var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n          var c = arguments.length > 2 ? arguments[2] : undefined;\n          var e = \"\".concat(a, \"_\").concat(b);\n          d(function (a) {\n            return _objectSpread(_objectSpread({}, a), {}, _defineProperty2({}, e, {\n              count: \"object\" == typeof a[e] ? a[e].count + 1 : 1,\n              svg: c\n            }));\n          });\n        },\n        removeIcon: function removeIcon(a) {\n          var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n          var c = \"\".concat(a, \"_\").concat(b);\n          d(function (a) {\n            var b = _objectSpread({}, a);\n            return 1 === b[c].count ? delete b[c] : b[c].count -= 1, b;\n          });\n        }\n      };\n    }, []);\n  return React.createElement(React.Fragment, null, React.createElement(IconsContext.Provider, {\n    value: e\n  }, a), React.createElement(IconsProviderList, {\n    icons: c,\n    container: b\n  }));\n};","map":{"version":3,"names":["React","createContext","useMemo","useState","cn","IconsProviderList","defaultContextValue","addIcon","removeIcon","cnIcons","IconsContext","IconsProvider","_ref","a","children","_ref$container","container","b","window","document","body","_useState","_useState2","_slicedToArray","c","d","e","arguments","length","undefined","concat","_objectSpread","_defineProperty2","count","svg","createElement","Fragment","Provider","value","icons"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/node_modules/@consta/src/components/IconsProvider/IconsProvider.tsx"],"sourcesContent":["import './IconsProvider.css';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport { IconProps } from '##/icons/Icon';\nimport { cn } from '##/utils/bem';\n\nimport { IconsProviderList } from './IconsProviderList/IconsProviderList';\n\nexport type Icons = Record<\n  string,\n  { count: number; svg: React.ReactElement | null }\n>;\n\ntype IconsContextAddIcon = (\n  iconName: string,\n  size: IconProps['size'],\n  svg: React.ReactElement | null,\n) => void;\n\ntype IconsContextRemoveIcon = (\n  iconName: string,\n  size: IconProps['size'],\n) => void;\n\ntype IconsContextParams = {\n  addIcon: IconsContextAddIcon | undefined;\n  removeIcon: IconsContextRemoveIcon | undefined;\n};\n\nconst defaultContextValue: IconsContextParams = {\n  addIcon: undefined,\n  removeIcon: undefined,\n};\n\nexport const cnIcons = cn('Icons');\n\nexport const IconsContext =\n  createContext<IconsContextParams>(defaultContextValue);\n\nexport const IconsProvider: React.FC<{\n  children: React.ReactNode;\n  container?: Element;\n}> = ({ children, container = window.document.body }) => {\n  const [icons, setIcons] = useState<Icons>({});\n\n  const value = useMemo(() => {\n    const addIcon: IconsContextAddIcon = (name, size = 'm', svg) => {\n      const key = `${name}_${size}`;\n      setIcons((prev) => ({\n        ...prev,\n        [key]: {\n          count: typeof prev[key] === 'object' ? prev[key].count + 1 : 1,\n          svg,\n        },\n      }));\n    };\n\n    const removeIcon: IconsContextRemoveIcon = (name, size = 'm') => {\n      const key = `${name}_${size}`;\n      setIcons((prev) => {\n        const copyIcons = { ...prev };\n        if (copyIcons[key].count === 1) {\n          delete copyIcons[key];\n        } else {\n          copyIcons[key].count -= 1;\n        }\n        return copyIcons;\n      });\n    };\n\n    return { addIcon, removeIcon };\n  }, []);\n\n  return (\n    <>\n      <IconsContext.Provider value={value}>{children}</IconsContext.Provider>\n      <IconsProviderList icons={icons} container={container} />\n    </>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,OAA/B,EAAwCC,QAAxC,QAAwD,OAAxD;AAGA,SAASC,EAAT;AAEA,SAASC,iBAAT;AAuBA,IAAMC,mBAAuC,GAAG;EAC9CC,OAAO,QADuC;EAE9CC,UAAU;AAFoC,CAAhD;AAKA,OAAO,IAAMC,OAAO,GAAGL,EAAE,CAAC,OAAD,CAAlB;AAEP,OAAO,IAAMM,YAAY,GACvBT,aAAa,CAAqBK,mBAArB,CADR;AAGP,OAAO,IAAMK,aAGX,GAAG,SAHQA,aAGXA,CAAAC,IAAA,EAAuD;EAAA,IAAjDC,CAAF,GAAAD,IAAA,CAAEE,QAAQ;IAAAC,cAAA,GAAAH,IAAA,CAAEI,SAAS;IAATC,CAAS,GAAAF,cAAA,cAAGG,MAAM,CAACC,QAAP,CAAgBC,IAAxC,GAAAL,cAAA;EAAmD,IAAAM,SAAA,GAC7BlB,QAAQ,CAAQ,EAAR,CADqB;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAChDG,CAAD,GAAAF,UAAA;IAAQG,CAAR,GAAAH,UAAA;IAEAI,CAAK,GAAGxB,OAAO,CAAC,YAAM;MAyB1B,OAAO;QAAEK,OAAO,EAxBqB,SAAAA,QAACM,CAAD,EAA2B;UAAA,IAApBI,CAAI,GAAAU,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAd;UAAA,IAAmBH,CAAnB,GAAAG,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;UACnC,IAAMH,CAAG,MAAAI,MAAA,CAAMjB,CAAK,OAAAiB,MAAA,CAAGb,CAAK,CAA5B;UACAQ,CAAQ,CAAE,UAAAZ,CAAD;YAAA,OAAAkB,aAAA,CAAAA,aAAA,KACJlB,CADI,OAAAmB,gBAAA,KAENN,CAAD,EAAO;cACLO,KAAK,EAAuB,QAArB,WAAOpB,CAAI,CAACa,CAAD,CAAX,GAAgCb,CAAI,CAACa,CAAD,CAAJ,CAAUO,KAAV,GAAkB,CAAlD,GAAsD,CADxD;cAELC,GAAG,EAAHV;YAFK,CAFA,EAAD;UAAA,EAOT;QAAA,CAeM;QAAWhB,UAAU,EAbe,SAAAA,WAACK,CAAD,EAAsB;UAAA,IAAfI,CAAI,GAAAU,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAd;UACzC,IAAMH,CAAG,MAAAM,MAAA,CAAMjB,CAAK,OAAAiB,MAAA,CAAGb,CAAK,CAA5B;UACAQ,CAAQ,CAAE,UAAAZ,CAAD,EAAU;YACjB,IAAMI,CAAS,GAAAc,aAAA,KAAQlB,CAAR,CAAf;YAMA,OAL6B,CAAzB,KAAAI,CAAS,CAACO,CAAD,CAAT,CAAeS,KAKnB,GAJE,OAAOhB,CAAS,CAACO,CAAD,CAIlB,GAFEP,CAAS,CAACO,CAAD,CAAT,CAAeS,KAAf,IAAwB,CAE1B,EAAOhB,CACR;UAAA,CARO,CAST;QAAA;MAEM,CACR;IAAA,CA1BoB,EA0BlB,EA1BkB,CAHkC;EA+BvD,OACEjB,KAAA,CAAAmC,aAAA,CAAAnC,KAAA,CAAAoC,QAAA,QACEpC,KAAA,CAAAmC,aAAA,CAACzB,YAAD,CAAc2B,QAAd;IAAuBC,KAAK,EAAEZ;EAA9B,GAAsCb,CAAtC,CADF,EAEEb,KAAA,CAAAmC,aAAA,CAAC9B,iBAAD;IAAmBkC,KAAK,EAAEf,CAA1B;IAAiCR,SAAS,EAAEC;EAA5C,EAFF,CAKH;AAAA,CAxCM"},"metadata":{},"sourceType":"module","externalDependencies":[]}