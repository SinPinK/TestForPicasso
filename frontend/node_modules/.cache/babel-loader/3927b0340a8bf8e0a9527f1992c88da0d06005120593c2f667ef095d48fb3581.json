{"ast":null,"code":"import _slicedToArray from\"/Users/kateishutina/Desktop/\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/TestForPicasso/testForPicasso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect,Fragment}from'react';import{BrowserRouter}from'react-router-dom';import'./Components.css';// импорт css-разметки\nimport{Grid,GridItem}from'@consta/uikit/Grid';import{Text}from'@consta/uikit/Text';import{Card}from'@consta/uikit/Card';import{Select}from'@consta/uikit/Select';import{Button}from'@consta/uikit/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var HomePage=function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];// переменная для хранения data по запросу /posts\nvar _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isClick=_useState4[0],setIsClick=_useState4[1];var goToPosts=function goToPosts(event){event.preventDefault();window.location.assign('/postinfo/');};var clickOnPost=function clickOnPost(event){console.log(event.target.id);var id=event.target.id;window.location.assign('/infopage/'+id+'/');setIsClick(true);};useEffect(function(){axios({method:'GET',url:window.location.origin+'/api/postsview/'}).then(function(response){console.log(JSON.parse(response.data));//setContent(JSON.parse(response.data))\nsetPosts(JSON.parse(response.data)['posts']);//doPosts(JSON.parse(response.data))\n}).catch(function(error){console.log(error);//setPostsValueError('Quasi per errorem inciderunt')\n});},[]);var postPosts=function postPosts(event){if(isClick===true){setIsClick(false);}else{setIsClick(true);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{cols:\"12\",children:/*#__PURE__*/_jsx(GridItem,{col:\"12\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Grid,{cols:\"12\",children:[/*#__PURE__*/_jsx(GridItem,{col:\"1\"}),/*#__PURE__*/_jsx(GridItem,{col:\"3\",children:/*#__PURE__*/_jsx(Text,{children:\" \\u0417\\u0434\\u0435\\u0441\\u044C \\u0431\\u0443\\u0434\\u0435\\u0442 select \"})}),/*#__PURE__*/_jsx(GridItem,{col:\"3\",children:/*#__PURE__*/_jsx(Button,{label:\"\\u041E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0437\\u0438\\u0442\\u044C \\u043F\\u043E\\u0441\\u0442\\u044B\",onClick:function onClick(event){return postPosts(event);}})})]})})})}),/*#__PURE__*/_jsx(Grid,{cols:\"12\",children:isClick===false&&/*#__PURE__*/_jsx(\"div\",{children:posts.map(function(post,index){return/*#__PURE__*/_jsx(Grid,{col:\"12\",children:/*#__PURE__*/_jsx(Card,{className:\"post-preview-card-style\",horizontalSpace:\"xl\",children:/*#__PURE__*/_jsx(Grid,{cols:\"12\",children:/*#__PURE__*/_jsx(GridItem,{col:\"12\",children:/*#__PURE__*/_jsx(Text,{view:\"link\",cursor:\"pointer\",id:post.id,onClick:function onClick(event){return clickOnPost(event);},children:post.title})})})})});})})})]});};","map":{"version":3,"names":["axios","React","useState","useEffect","Fragment","BrowserRouter","Grid","GridItem","Text","Card","Select","Button","jsx","_jsx","jsxs","_jsxs","HomePage","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","isClick","setIsClick","goToPosts","event","preventDefault","window","location","assign","clickOnPost","console","log","target","id","method","url","origin","then","response","JSON","parse","data","catch","error","postPosts","children","cols","col","label","onClick","map","post","index","className","horizontalSpace","view","cursor","title"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/src/components/HomePage.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect, Fragment } from 'react'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport './Components.css' // импорт css-разметки\n\nimport { Grid, GridItem } from '@consta/uikit/Grid'\nimport { Text } from '@consta/uikit/Text'\nimport { Card } from '@consta/uikit/Card'\nimport { Select } from '@consta/uikit/Select'\nimport { Button } from '@consta/uikit/Button'\n\n\nexport const HomePage = () => {\n    const [posts, setPosts] = useState([]) // переменная для хранения data по запросу /posts\n    const [isClick, setIsClick] = useState(true)\n\n    const goToPosts = (event) => {\n        event.preventDefault()\n        window.location.assign('/postinfo/')\n    }\n\n    const clickOnPost = (event) => {\n        console.log(event.target.id)\n        let id = event.target.id\n        window.location.assign('/infopage/' + id + '/')\n        setIsClick(true)\n    }\n\n    useEffect(() => {\n        axios({\n            method: 'GET',\n            url: window.location.origin+'/api/postsview/',\n        }).then(response => {\n            console.log(JSON.parse(response.data))\n            //setContent(JSON.parse(response.data))\n            setPosts(JSON.parse(response.data)['posts'])\n            //doPosts(JSON.parse(response.data))\n        }).catch(error => {\n            console.log(error)\n            //setPostsValueError('Quasi per errorem inciderunt')\n        })\n    }, [])\n\n    const postPosts = (event) => {\n        if (isClick === true) {\n            setIsClick(false)\n        } else {\n            setIsClick(true)\n        }\n    }\n\n    return (\n        <div>\n            <Grid cols='12'>\n                <GridItem col='12'>\n                    <Card>\n                        <Grid cols='12'>\n                            <GridItem col='1' />\n                            <GridItem col='3'>\n                                <Text> Здесь будет select </Text>\n                            </GridItem>\n                            <GridItem col='3'>\n                                <Button label='Отобразить посты' onClick={(event) => postPosts(event)} />\n                            </GridItem>\n                        </Grid>\n                    </Card>\n                </GridItem>\n            </Grid>\n            <Grid cols='12'>\n\n                    {\n                (isClick === false) && (\n                <div>\n            {posts.map((post, index) => (\n                <Grid col='12'>\n                    <Card className='post-preview-card-style' horizontalSpace='xl' >\n                        <Grid cols='12'>\n                            <GridItem col='12'>\n                            <Text view='link' cursor='pointer' id={post.id} onClick={(event) => clickOnPost(event)}>\n                                {post.title}\n                            </Text>\n                            </GridItem>\n                        </Grid>\n                    </Card>\n                </Grid>\n            ))}\n                </div>\n                )\n            }\n\n            </Grid>\n        </div>\n    )\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}