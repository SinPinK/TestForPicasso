{"ast":null,"code":"import _slicedToArray from\"/Users/kateishutina/Desktop/\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/TestForPicasso/testForPicasso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\nстраница с отображением карточек с превью постов\n*/import axios from'axios';import React,{useState,useEffect,Fragment}from'react';import{BrowserRouter}from'react-router-dom';import'./Components.css';// импорт css-разметки\n// Элементы ui-библиотеки @consta uikit (система принадлежит ГПН, доступна вне корпоративной сети)\nimport{Card}from'@consta/uikit/Card';import{Text}from'@consta/uikit/Text';import{Button}from'@consta/uikit/Button';import{Grid,GridItem}from'@consta/uikit/Grid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PostsPage=function PostsPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];// переменная для хранения data по запросу /posts\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),postsValueError=_useState6[0],setPostsValueError=_useState6[1];// Переменная для хранения информации об ошибке при запросе data\n// для автоматического сбора data при открытии страницы\nuseEffect(function(){axios({method:'GET',url:window.location.origin+'/api/postsview/'}).then(function(response){console.log(JSON.parse(response.data));//setContent(JSON.parse(response.data))\nsetPosts(JSON.parse(response.data)['posts']);//doPosts(JSON.parse(response.data))\n}).catch(function(error){console.log(error);setPostsValueError('Quasi per errorem inciderunt');});},[]);var clickOnPost=function clickOnPost(event){console.log(event.target.id);var id=event.target.id;window.location.assign('/infopage/'+id+'/');};return/*#__PURE__*/_jsxs(Fragment,{children:[posts.map(function(post,index){return/*#__PURE__*/_jsx(Grid,{col:\"12\",children:/*#__PURE__*/_jsx(Card,{className:\"post-preview-card-style\",horizontalSpace:\"xl\",children:/*#__PURE__*/_jsx(Grid,{cols:\"12\",children:/*#__PURE__*/_jsx(GridItem,{col:\"12\",children:/*#__PURE__*/_jsx(Text,{view:\"link\",cursor:\"pointer\",id:post.id,onClick:function onClick(event){return clickOnPost(event);},children:post.title})})})})});}),/*#__PURE__*/_jsx(Grid,{cols:\"12\",children:/*#__PURE__*/_jsx(Card,{className:\"non-shadow-card\",shadow:false})})]});};","map":{"version":3,"names":["axios","React","useState","useEffect","Fragment","BrowserRouter","Card","Text","Button","Grid","GridItem","jsx","_jsx","jsxs","_jsxs","PostsPage","_useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","posts","setPosts","_useState5","_useState6","postsValueError","setPostsValueError","method","url","window","location","origin","then","response","console","log","JSON","parse","data","catch","error","clickOnPost","event","target","id","assign","children","map","post","index","col","className","horizontalSpace","cols","view","cursor","onClick","title","shadow"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/src/components/PostsPage.js"],"sourcesContent":["/*\nстраница с отображением карточек с превью постов\n*/\nimport axios from 'axios'\nimport React, { useState, useEffect, Fragment } from 'react'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport './Components.css' // импорт css-разметки\n\n// Элементы ui-библиотеки @consta uikit (система принадлежит ГПН, доступна вне корпоративной сети)\nimport { Card } from '@consta/uikit/Card'\nimport { Text } from '@consta/uikit/Text'\nimport { Button } from '@consta/uikit/Button'\nimport { Grid, GridItem } from '@consta/uikit/Grid'\n\nexport const PostsPage = () => {\n    const [value, setValue] = useState([])\n    const [posts, setPosts] = useState([]) // переменная для хранения data по запросу /posts\n\n    const [postsValueError, setPostsValueError] = useState('') // Переменная для хранения информации об ошибке при запросе data\n\n    // для автоматического сбора data при открытии страницы\n    useEffect(() => {\n        axios({\n            method: 'GET',\n            url: window.location.origin+'/api/postsview/',\n        }).then(response => {\n            console.log(JSON.parse(response.data))\n            //setContent(JSON.parse(response.data))\n            setPosts(JSON.parse(response.data)['posts'])\n            //doPosts(JSON.parse(response.data))\n        }).catch(error => {\n            console.log(error)\n            setPostsValueError('Quasi per errorem inciderunt')\n        })\n    }, [])\n\n    const clickOnPost = (event) => {\n        console.log(event.target.id)\n        let id = event.target.id\n        window.location.assign('/infopage/' + id + '/')\n    }\n\n    return (\n        <Fragment>\n            {posts.map((post, index) => (\n                <Grid col='12'>\n                    <Card className='post-preview-card-style' horizontalSpace='xl' >\n                        <Grid cols='12'>\n                            <GridItem col='12'>\n                            <Text view='link' cursor='pointer' id={post.id} onClick={(event) => clickOnPost(event)}>\n                                {post.title}\n                            </Text>\n                            </GridItem>\n                        </Grid>\n                    </Card>\n                </Grid>\n            ))}\n            <Grid cols='12'>\n                <Card className='non-shadow-card' shadow={false}/>\n            </Grid>\n        </Fragment>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}