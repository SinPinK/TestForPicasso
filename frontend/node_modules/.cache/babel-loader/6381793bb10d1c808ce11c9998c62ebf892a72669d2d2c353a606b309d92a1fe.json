{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nfunction _createForOfIteratorHelper(a, b) {\n  var c = \"undefined\" != typeof Symbol && a[Symbol.iterator] || a[\"@@iterator\"];\n  if (!c) {\n    if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && \"number\" == typeof a.length) {\n      c && (a = c);\n      var d = 0,\n        e = function e() {};\n      return {\n        s: e,\n        n: function n() {\n          return d >= a.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: a[d++]\n          };\n        },\n        e: function (a) {\n          function b() {\n            return a.apply(this, arguments);\n          }\n          return b.toString = function () {\n            return a.toString();\n          }, b;\n        }(function (a) {\n          throw a;\n        }),\n        f: e\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var f,\n    g = !0,\n    h = !1;\n  return {\n    s: function s() {\n      c = c.call(a);\n    },\n    n: function n() {\n      var a = c.next();\n      return g = a.done, a;\n    },\n    e: function (a) {\n      function b() {\n        return a.apply(this, arguments);\n      }\n      return b.toString = function () {\n        return a.toString();\n      }, b;\n    }(function (a) {\n      h = !0, f = a;\n    }),\n    f: function f() {\n      try {\n        g || null == c[\"return\"] || c[\"return\"]();\n      } finally {\n        if (h) throw f;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(a, b) {\n  if (a) {\n    if (\"string\" == typeof a) return _arrayLikeToArray(a, b);\n    var c = Object.prototype.toString.call(a).slice(8, -1);\n    return \"Object\" === c && a.constructor && (c = a.constructor.name), \"Map\" === c || \"Set\" === c ? Array.from(a) : \"Arguments\" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;\n  }\n}\nfunction _arrayLikeToArray(a, b) {\n  (null == b || b > a.length) && (b = a.length);\n  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];\n  return d;\n}\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { getCountedGroups, getGroups } from \"../../utils/getGroups\";\nimport { useClickOutside } from \"../useClickOutside/useClickOutside\";\nimport { useDebounce } from \"../useDebounce/useDebounce\";\nimport { useKeys } from \"../useKeys/useKeys\";\nimport { usePrevious } from \"../usePrevious/usePrevious\";\nimport { scrollToIndex, useHoistedState } from \"./helpers\";\nvar isMultipleParams = function isMultipleParams(a) {\n    return a.multiple;\n  },\n  isNotMultipleParams = function isNotMultipleParams(a) {\n    return !a.multiple;\n  },\n  actions = {\n    setOpen: \"setOpen\",\n    setSearch: \"setSearch\",\n    highlightIndex: \"highlightIndex\"\n  },\n  initialState = {\n    searchValue: \"\",\n    resolvedSearchValue: \"\",\n    isOpen: !1,\n    highlightedIndex: 0,\n    scrollToHighlighted: !1\n  };\nexport var isOptionForCreate = function isOptionForCreate(a) {\n  return a && Object.prototype.hasOwnProperty.call(a, \"__optionForCreate\");\n};\nexport var isOptionForSelectAll = function isOptionForSelectAll(a) {\n  return a && Object.prototype.hasOwnProperty.call(a, \"__optionSelctAll\");\n};\nexport function useSelect(a) {\n  var b = a.items,\n    c = a.dropdownRef,\n    d = a.controlRef,\n    e = a.disabled,\n    f = void 0 !== e && e,\n    g = a.multiple,\n    h = void 0 !== g && g,\n    i = a.getItemLabel,\n    j = a.getItemKey,\n    k = a.searchFunction,\n    l = a.getItemGroupKey,\n    m = a.groups,\n    n = a.selectAll,\n    o = void 0 !== n && n,\n    p = a.getGroupKey,\n    q = a.sortGroups,\n    r = a.getItemDisabled,\n    s = a.onFocus,\n    t = a.onBlur,\n    u = a.searchValue,\n    v = a.withoutClearSearch,\n    w = useRef(null),\n    x = useState(!1),\n    y = _slicedToArray(x, 2),\n    z = y[0],\n    A = y[1],\n    B = a.value && (Array.isArray(a.value) ? a.value : [a.value]) || [],\n    C = useHoistedState(initialState),\n    D = _slicedToArray(C, 2),\n    E = D[0],\n    F = E.searchValue,\n    G = E.isOpen,\n    H = E.highlightedIndex,\n    I = E.resolvedSearchValue,\n    J = E.scrollToHighlighted,\n    K = D[1],\n    L = function L(a, b) {\n      return -1 !== i(a).toLocaleLowerCase().indexOf(b.toLocaleLowerCase());\n    },\n    M = React.useMemo(function () {\n      if (I && \"\" !== I) {\n        var c = b.filter(function (a) {\n            return k ? k(a, I) : L(a, I);\n          }),\n          d = !!b.find(function (a) {\n            return i(a).toString().toLowerCase() === I.toLocaleLowerCase();\n          });\n        return [c, a.onCreate && !d ? {\n          label: F,\n          __optionForCreate: !0\n        } : void 0];\n      }\n      return [b, void 0];\n    }, [b, I]),\n    N = _slicedToArray(M, 2),\n    O = N[0],\n    P = N[1],\n    Q = useMemo(function () {\n      var b = getCountedGroups(getGroups(O, null !== m && void 0 !== m && m.length ? l : void 0, m, p, q), isMultipleParams(a) ? a.value : [], o, j, r);\n      return P ? [P].concat(_toConsumableArray(b)) : b;\n    }, [B, o, O, m, l, r, p, q, P]),\n    R = useMemo(function () {\n      var b = !1;\n      return 0 < F.length && (b = 0 === Q.filter(function (a) {\n        return isOptionForCreate(a) || 0 < a.items.length || a.group;\n      }).length && !a.onCreate), b;\n    }, [Q]),\n    S = 0 !== b.length,\n    T = function T() {\n      var a = 0;\n      if (0 < B.length) {\n        var b,\n          c = _createForOfIteratorHelper(Q);\n        try {\n          for (c.s(); !(b = c.n()).done;) {\n            var f = b.value;\n            if (isOptionForCreate(f)) {\n              a++;\n              continue;\n            }\n            var d,\n              e = _createForOfIteratorHelper(f.items);\n            try {\n              for (e.s(); !(d = e.n()).done;) {\n                var g = d.value;\n                if (isOptionForSelectAll(g)) return a;\n                if (j(g) === j(B[0])) return a;\n                a++;\n              }\n            } catch (a) {\n              e.e(a);\n            } finally {\n              e.f();\n            }\n          }\n        } catch (a) {\n          c.e(a);\n        } finally {\n          c.f();\n        }\n      }\n      return 0;\n    },\n    U = React.useCallback(function (a) {\n      K(function (b) {\n        return _objectSpread(_objectSpread({}, b), {}, {\n          isOpen: a\n        });\n      }, actions.setOpen);\n    }, [K]),\n    V = useDebounce(function (a) {\n      K(function (b) {\n        return _objectSpread(_objectSpread({}, b), {}, {\n          resolvedSearchValue: a\n        });\n      }, actions.setSearch);\n    }, 300),\n    W = React.useCallback(function (a) {\n      K(function (b) {\n        return _objectSpread(_objectSpread({}, b), {}, {\n          searchValue: a\n        });\n      }, actions.setSearch), V(a);\n    }, [K, V]),\n    X = usePrevious(G);\n  React.useLayoutEffect(function () {\n    if (null !== B && !X && G) {\n      var a = T();\n      0 < O.length && scrollToIndex(a, c);\n    }\n  });\n  var Y = React.useCallback(function (a, b) {\n      K(function (c) {\n        return _objectSpread(_objectSpread({}, c), {}, {\n          highlightedIndex: Math.min(Math.max(0, \"function\" == typeof a ? a(c.highlightedIndex) : a), P ? O.length : O.length - 1),\n          scrollToHighlighted: b\n        });\n      }, actions.highlightIndex);\n    }, [O, K, P]),\n    Z = function Z(b, c) {\n      if (b.stopPropagation(), isMultipleParams(a)) {\n        var d,\n          e = null === (d = a.value) || void 0 === d ? void 0 : d.filter(function (a) {\n            return j(a) !== j(c);\n          });\n        a.onChange({\n          e: b,\n          value: null !== e && void 0 !== e && e.length ? e : null\n        });\n      }\n    },\n    $ = function $(b, c) {\n      if (!(r && r(c))) {\n        if (isMultipleParams(a)) {\n          var d = B.some(function (a) {\n            return j(a) === j(c);\n          }) ? B.filter(function (a) {\n            return j(a) !== j(c);\n          }) : [].concat(_toConsumableArray(B), [c]);\n          a.onChange({\n            value: d.length ? d : null,\n            e: b\n          });\n        }\n        isNotMultipleParams(a) && (a.onChange({\n          value: c,\n          e: b\n        }), U(!1)), v || W(\"\");\n      }\n    },\n    _ = function _(b) {\n      var c = b.e,\n        d = b.items;\n      if (isMultipleParams(a)) {\n        var e = r ? d.filter(function (a) {\n            return !r(a);\n          }) : d,\n          f = [],\n          g = [];\n        B.forEach(function (a) {\n          e.find(function (b) {\n            return j(a) === j(b);\n          }) ? f.push(a) : g.push(a);\n        }), f.length === e.length ? a.onChange({\n          value: g,\n          e: c\n        }) : a.onChange({\n          e: c,\n          value: [].concat(g, _toConsumableArray(e))\n        });\n      }\n    },\n    aa = function aa(b, c) {\n      a.onCreate && a.onCreate({\n        e: b,\n        label: c\n      }), U(!1), v || W(\"\");\n    },\n    ba = function ba(b) {\n      if (v || W(\"\"), isMultipleParams(a)) {\n        var c = null === B || void 0 === B ? void 0 : B.filter(function (a) {\n          return null === r || void 0 === r ? void 0 : r(a);\n        });\n        a.onChange({\n          value: c && 0 < c.length ? c : null,\n          e: b\n        });\n      }\n      isNotMultipleParams(a) && a.onChange({\n        value: null,\n        e: b\n      });\n    },\n    ca = function ca(a, b) {\n      b.preventDefault(), f || U(!0), Y(function (a) {\n        return a - 1;\n      }, !0);\n    },\n    da = function da(a, b) {\n      b.preventDefault(), f || U(!0), Y(function (a) {\n        return a + 1;\n      }, !0);\n    },\n    ea = useKeys({\n      ArrowUp: ca,\n      ArrowDown: da,\n      PageUp: ca,\n      PageDown: da,\n      Home: ca,\n      End: da,\n      Enter: function Enter(a, b) {\n        if (G) {\n          (F || O[H]) && b.preventDefault();\n          var c = function c(a) {\n              var b,\n                c = 0,\n                d = _createForOfIteratorHelper(Q);\n              try {\n                for (d.s(); !(b = d.n()).done;) {\n                  var e = b.value;\n                  if (isOptionForCreate(e)) return c++, [void 0, e];\n                  if (e.items.length + c > a) return [e, e.items[a - c]];\n                  c += e.items.length;\n                }\n              } catch (a) {\n                d.e(a);\n              } finally {\n                d.f();\n              }\n              return [void 0, void 0];\n            },\n            d = c(H),\n            e = _slicedToArray(d, 2),\n            f = e[0],\n            g = e[1];\n          if (isOptionForCreate(g)) return void aa(b, g.label);\n          if (isOptionForSelectAll(g)) {\n            var h;\n            return void _({\n              e: b,\n              items: null !== (h = null === f || void 0 === f ? void 0 : f.items.filter(function (a) {\n                return !isOptionForSelectAll(a);\n              })) && void 0 !== h ? h : []\n            });\n          }\n          g && $(b, g);\n        }\n      },\n      Escape: function Escape() {\n        U(!1);\n      },\n      Tab: function Tab() {\n        U(!1);\n      },\n      Backspace: function Backspace(a, b) {\n        F || (h ? Z(b, B[B.length - 1]) : ba(b));\n      }\n    });\n  useClickOutside({\n    isActive: G,\n    ignoreClicksInsideRefs: [c, d],\n    handler: function handler() {\n      U(!1);\n    }\n  }), React.useEffect(function () {\n    f && U(!1);\n  }, [f]), React.useEffect(function () {\n    var a = T();\n    Y(a, !0);\n  }, [Y]), React.useEffect(function () {\n    0 < O.length && J && scrollToIndex(H, c);\n  }, [H]);\n  return useEffect(function () {\n    u && W(u);\n  }, [u]), {\n    isOpen: G,\n    isFocused: z,\n    highlightedIndex: H,\n    visibleItems: Q,\n    highlightIndex: Y,\n    getOptionProps: function getOptionProps(a) {\n      var b = a.index,\n        c = a.item;\n      if (isOptionForCreate(c)) return {\n        onClick: function onClick(a) {\n          aa(a, c.label);\n        },\n        onMouseEnter: function onMouseEnter() {\n          Y(b, !1);\n        },\n        active: !1,\n        hovered: b === H,\n        key: \"__optionForCreate\"\n      };\n      if (isOptionForSelectAll(c)) {\n        var f = function f() {\n          var a,\n            b = _createForOfIteratorHelper(Q);\n          try {\n            for (b.s(); !(a = b.n()).done;) {\n              var e = a.value;\n              if (isOptionForCreate(e)) break;\n              if (e.key === c.groupKey) {\n                var d;\n                return null !== (d = null === e || void 0 === e ? void 0 : e.items.filter(function (a) {\n                  return !isOptionForSelectAll(a);\n                })) && void 0 !== d ? d : [];\n              }\n            }\n          } catch (a) {\n            b.e(a);\n          } finally {\n            b.f();\n          }\n          return [];\n        };\n        return {\n          onClick: function onClick(a) {\n            _({\n              e: a,\n              items: f()\n            });\n          },\n          onMouseEnter: function onMouseEnter() {\n            Y(b, !1);\n          },\n          active: !1,\n          hovered: b === H,\n          key: \"__optionForSelectAll\"\n        };\n      }\n      var d = j(c);\n      return {\n        onClick: function onClick(a) {\n          $(a, c);\n        },\n        onMouseEnter: function onMouseEnter() {\n          Y(b, !1);\n        },\n        active: !!B.find(function (a) {\n          return j(a) === d;\n        }),\n        hovered: b === H,\n        key: d\n      };\n    },\n    handleInputFocus: function handleInputFocus(a) {\n      f || (!z && A(!0), \"function\" == typeof s && s(a));\n    },\n    handleInputBlur: function handleInputBlur(a) {\n      if (G) {\n        var b;\n        return void (null === (b = w.current) || void 0 === b ? void 0 : b.focus());\n      }\n      z && A(!1), \"function\" == typeof t && t(a);\n    },\n    handleToggleDropdown: function handleToggleDropdown() {\n      if (G) U(!1), A(!1);else {\n        var a;\n        U(!0), A(!0), null === (a = w.current) || void 0 === a ? void 0 : a.focus();\n      }\n    },\n    handleInputClick: function handleInputClick() {\n      if (f || U(!G), h) {\n        var a;\n        null === (a = w.current) || void 0 === a ? void 0 : a.focus(), v || W(\"\");\n      }\n    },\n    inputRef: w,\n    getKeyProps: ea,\n    handleInputChange: function handleInputChange(a) {\n      f || !h && 0 < B.length || W(a.target.value);\n    },\n    searchValue: F,\n    clearValue: ba,\n    getHandleRemoveValue: function getHandleRemoveValue(a) {\n      return function (b) {\n        return Z(b, a);\n      };\n    },\n    notFound: R,\n    hasItems: S\n  };\n}","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","getCountedGroups","getGroups","useClickOutside","useDebounce","useKeys","usePrevious","scrollToIndex","useHoistedState","isMultipleParams","a","multiple","isNotMultipleParams","actions","setOpen","setSearch","highlightIndex","initialState","searchValue","resolvedSearchValue","isOpen","highlightedIndex","scrollToHighlighted","isOptionForCreate","Object","prototype","hasOwnProperty","call","isOptionForSelectAll","useSelect","b","items","c","dropdownRef","d","controlRef","e","disabled","f","g","h","i","getItemLabel","j","getItemKey","k","searchFunction","l","getItemGroupKey","m","groups","n","selectAll","o","p","getGroupKey","q","sortGroups","r","getItemDisabled","s","onFocus","t","onBlur","u","v","withoutClearSearch","w","x","y","_slicedToArray","z","A","B","value","Array","isArray","C","D","E","F","G","H","I","J","K","L","searchFunctionDefault","toLocaleLowerCase","indexOf","M","filter","find","toString","toLowerCase","onCreate","label","__optionForCreate","N","O","P","Q","length","concat","_toConsumableArray","R","group","S","T","getSelectedOptionIndex","_createForOfIteratorHelper","done","U","useCallback","_objectSpread","V","W","X","useLayoutEffect","Y","Math","min","max","Z","removeValue","stopPropagation","onChange","$","some","_","onChangeAll","forEach","push","aa","ba","clearValue","ca","ArrowUp","preventDefault","da","ArrowDown","ea","PageUp","PageDown","Home","End","Enter","Escape","Tab","Backspace","isActive","ignoreClicksInsideRefs","handler","isFocused","visibleItems","getOptionProps","index","item","onClick","onMouseEnter","active","hovered","key","getItems","groupKey","handleInputFocus","handleInputBlur","current","focus","handleToggleDropdown","handleInputClick","inputRef","getKeyProps","handleInputChange","target","getHandleRemoveValue","notFound","hasItems"],"sources":["/Users/kateishutina/Desktop/тестовые/TestForPicasso/testForPicasso/frontend/node_modules/@consta/src/hooks/useSelect/useSelect.ts"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\n\nimport {\n  CountedGroup,\n  getCountedGroups,\n  getGroups,\n  SelectAllItem,\n} from '../../utils/getGroups';\nimport { useClickOutside } from '../useClickOutside/useClickOutside';\nimport { useDebounce } from '../useDebounce/useDebounce';\nimport { KeyHandler, useKeys } from '../useKeys/useKeys';\nimport { usePrevious } from '../usePrevious/usePrevious';\nimport { scrollToIndex, useHoistedState } from './helpers';\n\ntype IndexForHighlight = number | ((oldIndex: number) => number);\n\ntype Group<ITEM, GROUP> = {\n  items: ITEM[];\n  key: string | number;\n  group?: GROUP;\n};\ntype GetItemGroupKey<ITEM> = (item: ITEM) => string | number | undefined;\ntype GetGroupKey<GROUP> = (item: GROUP) => string | number | undefined;\ntype SortGroups<ITEM, GROUP> = (\n  a: Group<ITEM, GROUP>,\n  b: Group<ITEM, GROUP>,\n) => number;\n\ntype OnChangeProp<ITEM, MULTIPLE extends boolean> = (props: {\n  value: (MULTIPLE extends true ? ITEM[] : ITEM) | null;\n  e: React.SyntheticEvent;\n}) => void;\n\ntype ValueProp<ITEM, MULTIPLE extends boolean> =\n  | (MULTIPLE extends true ? ITEM[] : ITEM)\n  | null\n  | undefined;\n\nexport type OptionForCreate = {\n  label: string;\n  __optionForCreate: boolean;\n};\n\nexport type SelectProps<ITEM, GROUP, MULTIPLE extends boolean> = {\n  getItemGroupKey?: GetItemGroupKey<ITEM> | undefined;\n  getGroupKey?: GetGroupKey<GROUP>;\n  sortGroups?: SortGroups<ITEM, GROUP>;\n  groups?: GROUP[];\n  items: ITEM[];\n  dropdownRef: React.MutableRefObject<HTMLDivElement | null>;\n  controlRef: React.MutableRefObject<HTMLDivElement | null>;\n  disabled?: boolean;\n  selectAll?: boolean;\n  getItemLabel: (item: ITEM) => string;\n  getItemKey: (item: ITEM) => string | number;\n  getItemDisabled?: (item: ITEM) => boolean | undefined;\n  searchFunction?: (item: ITEM, searchValue: string) => boolean;\n  onCreate?: (props: { e: React.SyntheticEvent; label: string }) => void;\n  onFocus?: React.FocusEventHandler<HTMLInputElement>;\n  onBlur?: React.FocusEventHandler<HTMLInputElement>;\n  multiple: boolean;\n  searchValue?: string;\n  withoutClearSearch?: boolean;\n  onChange: OnChangeProp<ITEM, MULTIPLE>;\n  value: ValueProp<ITEM, MULTIPLE>;\n};\n\nexport type OptionProps<ITEM> = {\n  index: number;\n  item: ITEM | OptionForCreate | SelectAllItem;\n};\n\nexport type GetOptionPropsResult = {\n  onClick: (e: React.SyntheticEvent) => void;\n  onMouseEnter: (e: React.SyntheticEvent) => void;\n  active: boolean;\n  hovered: boolean;\n  key: string | number;\n};\n\nconst isMultipleParams = <ITEM, GROUP>(\n  params: SelectProps<ITEM, GROUP, boolean>,\n): params is SelectProps<ITEM, GROUP, true> => {\n  return params.multiple;\n};\n\nconst isNotMultipleParams = <ITEM, GROUP>(\n  params: SelectProps<ITEM, GROUP, boolean>,\n): params is SelectProps<ITEM, GROUP, false> => {\n  return !params.multiple;\n};\n\nconst actions = {\n  setOpen: 'setOpen',\n  setSearch: 'setSearch',\n  highlightIndex: 'highlightIndex',\n};\n\nconst initialState = {\n  searchValue: '',\n  resolvedSearchValue: '',\n  isOpen: false,\n  highlightedIndex: 0,\n  scrollToHighlighted: false,\n};\n\nexport const isOptionForCreate = <ITEM, GROUP>(\n  params: OptionForCreate | Group<ITEM, GROUP> | ITEM,\n): params is OptionForCreate => {\n  return (\n    params && Object.prototype.hasOwnProperty.call(params, '__optionForCreate')\n  );\n};\n\nexport const isOptionForSelectAll = <ITEM, GROUP>(\n  params: SelectAllItem | Group<ITEM, GROUP> | ITEM,\n): params is SelectAllItem => {\n  return (\n    params && Object.prototype.hasOwnProperty.call(params, '__optionSelctAll')\n  );\n};\n\nexport function useSelect<ITEM, GROUP, MULTIPLE extends boolean>(\n  params: SelectProps<ITEM, GROUP, MULTIPLE>,\n) {\n  const {\n    items,\n    dropdownRef,\n    controlRef,\n    disabled = false,\n    multiple = false,\n    getItemLabel,\n    getItemKey,\n    searchFunction,\n    getItemGroupKey,\n    groups,\n    selectAll = false,\n    getGroupKey,\n    sortGroups,\n    getItemDisabled,\n    onFocus,\n    onBlur,\n    searchValue: searchValueProp,\n    withoutClearSearch,\n  } = params;\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [isFocused, setIsFocused] = useState(false);\n\n  const value =\n    (params.value &&\n      (Array.isArray(params.value) ? params.value : [params.value])) ||\n    [];\n\n  const [\n    {\n      searchValue,\n      isOpen,\n      highlightedIndex,\n      resolvedSearchValue,\n      scrollToHighlighted,\n    },\n    setState,\n  ] = useHoistedState(initialState);\n\n  const searchFunctionDefault = (item: ITEM, searchValue: string) =>\n    getItemLabel(item)\n      .toLocaleLowerCase()\n      .indexOf(searchValue.toLocaleLowerCase()) !== -1;\n\n  const [filteredOptions, optionForCreate] = React.useMemo(() => {\n    if (resolvedSearchValue && resolvedSearchValue !== '') {\n      const fiteredOptions = items.filter((item) =>\n        searchFunction\n          ? searchFunction(item, resolvedSearchValue)\n          : searchFunctionDefault(item, resolvedSearchValue),\n      );\n\n      const matchWithValueSearch = Boolean(\n        items.find(\n          (option) =>\n            getItemLabel(option).toString().toLowerCase() ===\n            resolvedSearchValue.toLocaleLowerCase(),\n        ),\n      );\n\n      const optionForCreate: OptionForCreate = {\n        label: searchValue,\n        __optionForCreate: true,\n      };\n\n      return [\n        fiteredOptions,\n        params.onCreate && !matchWithValueSearch ? optionForCreate : undefined,\n      ] as const;\n    }\n    return [items, undefined] as const;\n  }, [items, resolvedSearchValue]);\n\n  const visibleItems = useMemo(() => {\n    const resultGroups = getCountedGroups(\n      getGroups(\n        filteredOptions,\n        groups?.length ? getItemGroupKey : undefined,\n        groups,\n        getGroupKey,\n        sortGroups,\n      ),\n      isMultipleParams(params) ? params.value : [],\n      selectAll,\n      getItemKey,\n      getItemDisabled,\n    );\n\n    return optionForCreate ? [optionForCreate, ...resultGroups] : resultGroups;\n  }, [\n    value,\n    selectAll,\n    filteredOptions,\n    groups,\n    getItemGroupKey,\n    getItemDisabled,\n    getGroupKey,\n    sortGroups,\n    optionForCreate,\n  ]);\n\n  const notFound = useMemo(() => {\n    let flag = false;\n    if (searchValue.length > 0) {\n      flag =\n        visibleItems.filter(\n          (group) =>\n            isOptionForCreate(group) || group.items.length > 0 || group.group,\n        ).length === 0 && !params.onCreate;\n    }\n    return flag;\n  }, [visibleItems]);\n\n  const hasItems = items.length !== 0;\n\n  const getSelectedOptionIndex = (): number => {\n    let index = 0;\n    if (value.length > 0) {\n      for (const group of visibleItems) {\n        if (isOptionForCreate(group)) {\n          index++;\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n        for (const item of group.items) {\n          if (isOptionForSelectAll(item)) {\n            return index;\n          }\n          if (getItemKey(item) === getItemKey(value[0])) {\n            return index;\n          }\n          index++;\n        }\n      }\n    }\n\n    return 0;\n  };\n\n  // Actions\n\n  const setOpen = React.useCallback(\n    (newIsOpen: boolean) => {\n      setState(\n        (old) => ({\n          ...old,\n          isOpen: newIsOpen,\n        }),\n        actions.setOpen,\n      );\n    },\n    [setState],\n  );\n\n  const setResolvedSearch = useDebounce((value: string) => {\n    setState(\n      (old) => ({\n        ...old,\n        resolvedSearchValue: value,\n      }),\n      actions.setSearch,\n    );\n  }, 300);\n\n  const setSearch = React.useCallback(\n    (value: string) => {\n      setState(\n        (old) => ({\n          ...old,\n          searchValue: value,\n        }),\n        actions.setSearch,\n      );\n      setResolvedSearch(value);\n    },\n    [setState, setResolvedSearch],\n  );\n\n  const prevIsOpen = usePrevious(isOpen);\n\n  React.useLayoutEffect(() => {\n    if (value !== null && !prevIsOpen && isOpen) {\n      const currentHighlightIndex = getSelectedOptionIndex();\n      if (filteredOptions.length > 0) {\n        scrollToIndex(currentHighlightIndex, dropdownRef);\n      }\n    }\n  });\n\n  const highlightIndex = React.useCallback(\n    (indexForHighlight: IndexForHighlight, scrollToHighlighted: boolean) => {\n      setState((old) => {\n        return {\n          ...old,\n          highlightedIndex: Math.min(\n            Math.max(\n              0,\n              typeof indexForHighlight === 'function'\n                ? indexForHighlight(old.highlightedIndex)\n                : indexForHighlight,\n            ),\n            optionForCreate\n              ? filteredOptions.length\n              : filteredOptions.length - 1,\n          ),\n          scrollToHighlighted,\n        };\n      }, actions.highlightIndex);\n    },\n    [filteredOptions, setState, optionForCreate],\n  );\n\n  const removeValue = (e: React.SyntheticEvent, valueItem: ITEM) => {\n    e.stopPropagation();\n    if (isMultipleParams(params)) {\n      const newValue = params.value?.filter(\n        (item) => getItemKey(item) !== getItemKey(valueItem),\n      );\n      params.onChange({\n        e,\n        value: newValue?.length ? newValue : null,\n      });\n    }\n  };\n\n  const onChange = (e: React.SyntheticEvent, item: ITEM) => {\n    if (getItemDisabled && getItemDisabled(item)) {\n      return;\n    }\n    if (isMultipleParams(params)) {\n      const newValue = value.some(\n        (value) => getItemKey(value) === getItemKey(item),\n      )\n        ? value.filter((value) => getItemKey(value) !== getItemKey(item))\n        : [...value, item];\n      params.onChange({ value: newValue.length ? newValue : null, e });\n    }\n    if (isNotMultipleParams(params)) {\n      params.onChange({ value: item, e });\n      setOpen(false);\n    }\n    !withoutClearSearch && setSearch('');\n  };\n\n  const onChangeAll = (parametrs: {\n    e: React.SyntheticEvent;\n    items: ITEM[];\n  }) => {\n    const { e, items } = parametrs;\n    if (isMultipleParams(params)) {\n      const nonDisabledItems = getItemDisabled\n        ? items.filter((item) => !getItemDisabled(item))\n        : items;\n\n      const currentGroupValues: ITEM[] = [];\n      const withoutGroupValues: ITEM[] = [];\n      value.forEach((el) => {\n        if (\n          nonDisabledItems.find((item) => getItemKey(el) === getItemKey(item))\n        ) {\n          currentGroupValues.push(el);\n        } else {\n          withoutGroupValues.push(el);\n        }\n      });\n      if (currentGroupValues.length === nonDisabledItems.length) {\n        params.onChange({ value: withoutGroupValues, e });\n      } else {\n        params.onChange({\n          e,\n          value: [...withoutGroupValues, ...nonDisabledItems],\n        });\n      }\n    }\n  };\n\n  const onCreate = (e: React.SyntheticEvent, label: string) => {\n    params.onCreate && params.onCreate({ e, label });\n    setOpen(false);\n    !withoutClearSearch && setSearch('');\n  };\n\n  // Handlers\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    if (!disabled && !(!multiple && value.length > 0)) {\n      setSearch(e.target.value);\n    }\n  };\n\n  const handleInputClick = (): void => {\n    !disabled && setOpen(!isOpen);\n\n    if (multiple) {\n      inputRef.current?.focus();\n      !withoutClearSearch && setSearch('');\n    }\n  };\n\n  const clearValue = (e: React.SyntheticEvent) => {\n    !withoutClearSearch && setSearch('');\n    if (isMultipleParams(params)) {\n      const results = value?.filter((item) => getItemDisabled?.(item));\n      params.onChange({\n        value: results && results.length > 0 ? results : null,\n        e,\n      });\n    }\n    if (isNotMultipleParams(params)) {\n      params.onChange({ value: null, e });\n    }\n  };\n\n  const getHandleRemoveValue = (item: ITEM) => (e: React.SyntheticEvent) =>\n    removeValue(e, item);\n\n  // Prop Getters\n\n  const ArrowUp: KeyHandler = (_, e): void => {\n    e.preventDefault();\n    !disabled && setOpen(true);\n    highlightIndex((old) => old - 1, true);\n  };\n\n  const ArrowDown: KeyHandler = (_, e): void => {\n    e.preventDefault();\n    !disabled && setOpen(true);\n    highlightIndex((old) => old + 1, true);\n  };\n\n  const Enter: KeyHandler = (_, e): void => {\n    if (isOpen) {\n      if (searchValue || filteredOptions[highlightedIndex]) {\n        e.preventDefault();\n      }\n\n      const getData = (\n        index: number,\n      ): [\n        CountedGroup<ITEM, GROUP> | undefined,\n        SelectAllItem | OptionForCreate | ITEM | undefined,\n      ] => {\n        let couter = 0;\n        for (const group of visibleItems) {\n          if (isOptionForCreate(group)) {\n            couter++;\n            return [undefined, group];\n          }\n          if (group.items.length + couter > index) {\n            return [group, group.items[index - couter]];\n          }\n          couter += group.items.length;\n        }\n        return [undefined, undefined];\n      };\n\n      const [group, item] = getData(highlightedIndex);\n\n      if (isOptionForCreate(item)) {\n        onCreate(e, item.label);\n        return;\n      }\n\n      if (isOptionForSelectAll(item)) {\n        onChangeAll({\n          e,\n          items:\n            (group?.items.filter(\n              (el) => !isOptionForSelectAll(el),\n            ) as ITEM[]) ?? [],\n        });\n        return;\n      }\n\n      if (item) {\n        onChange(e, item);\n      }\n    }\n  };\n\n  const Escape = (): void => {\n    setOpen(false);\n  };\n\n  const Tab = (): void => {\n    setOpen(false);\n  };\n\n  const Backspace: KeyHandler = (_, e): void => {\n    if (searchValue) {\n      return;\n    }\n    if (multiple) {\n      removeValue(e, value[value.length - 1]);\n    } else {\n      clearValue(e);\n    }\n  };\n\n  const getKeyProps = useKeys({\n    ArrowUp,\n    ArrowDown,\n    PageUp: ArrowUp,\n    PageDown: ArrowDown,\n    Home: ArrowUp,\n    End: ArrowDown,\n    Enter,\n    Escape,\n    Tab,\n    Backspace,\n  });\n\n  const getOptionProps = ({\n    index,\n    item,\n  }: OptionProps<ITEM>): GetOptionPropsResult => {\n    if (isOptionForCreate(item)) {\n      return {\n        onClick: (e: React.SyntheticEvent) => {\n          onCreate(e, item.label);\n        },\n        onMouseEnter: () => {\n          highlightIndex(index, false);\n        },\n        active: false,\n        hovered: index === highlightedIndex,\n        key: '__optionForCreate',\n      };\n    }\n    if (isOptionForSelectAll(item)) {\n      const getItems = (): ITEM[] => {\n        for (const group of visibleItems) {\n          if (isOptionForCreate(group)) {\n            break;\n          }\n          if (group.key === item.groupKey) {\n            return (\n              (group?.items.filter(\n                (el) => !isOptionForSelectAll(el),\n              ) as ITEM[]) ?? []\n            );\n          }\n        }\n        return [];\n      };\n      return {\n        onClick: (e: React.SyntheticEvent) => {\n          onChangeAll({ e, items: getItems() });\n        },\n        onMouseEnter: () => {\n          highlightIndex(index, false);\n        },\n        active: false,\n        hovered: index === highlightedIndex,\n        key: '__optionForSelectAll',\n      };\n    }\n    const key = getItemKey(item);\n    return {\n      onClick: (e: React.SyntheticEvent) => {\n        onChange(e, item);\n      },\n      onMouseEnter: () => {\n        highlightIndex(index, false);\n      },\n      active: Boolean(value.find((item) => getItemKey(item) === key)),\n      hovered: index === highlightedIndex,\n      key,\n    };\n  };\n\n  useClickOutside({\n    isActive: isOpen,\n    ignoreClicksInsideRefs: [dropdownRef, controlRef],\n    handler: () => {\n      setOpen(false);\n    },\n  });\n\n  React.useEffect(() => {\n    if (disabled) {\n      setOpen(false);\n    }\n  }, [disabled]);\n\n  React.useEffect(() => {\n    const currentHighlightIndex = getSelectedOptionIndex();\n    highlightIndex(currentHighlightIndex, true);\n  }, [highlightIndex]);\n\n  React.useEffect(() => {\n    if (filteredOptions.length > 0 && scrollToHighlighted) {\n      scrollToIndex(highlightedIndex, dropdownRef);\n    }\n  }, [highlightedIndex]);\n\n  const handleInputFocus = (e: React.FocusEvent<HTMLInputElement>): void => {\n    if (!disabled) {\n      if (!isFocused) {\n        setIsFocused(true);\n      }\n      if (typeof onFocus === 'function') {\n        onFocus(e);\n      }\n    }\n  };\n\n  const handleInputBlur = (e: React.FocusEvent<HTMLInputElement>): void => {\n    if (isOpen) {\n      inputRef.current?.focus();\n      return;\n    }\n\n    if (isFocused) {\n      setIsFocused(false);\n    }\n\n    if (typeof onBlur === 'function') {\n      onBlur(e);\n    }\n  };\n\n  const handleToggleDropdown = (): void => {\n    if (isOpen) {\n      setOpen(false);\n      setIsFocused(false);\n    } else {\n      setOpen(true);\n      setIsFocused(true);\n      inputRef.current?.focus();\n    }\n  };\n\n  useEffect(() => {\n    if (searchValueProp) {\n      setSearch(searchValueProp);\n    }\n  }, [searchValueProp]);\n\n  return {\n    isOpen,\n    isFocused,\n    highlightedIndex,\n    visibleItems,\n    highlightIndex,\n    getOptionProps,\n    handleInputFocus,\n    handleInputBlur,\n    handleToggleDropdown,\n    handleInputClick,\n    inputRef,\n    getKeyProps,\n    handleInputChange,\n    searchValue,\n    clearValue,\n    getHandleRemoveValue,\n    notFound,\n    hasItems,\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,QAA4D,OAA5D;AAEA,SAEEC,gBAFF,EAGEC,SAHF;AAMA,SAASC,eAAT;AACA,SAASC,WAAT;AACA,SAAqBC,OAArB;AACA,SAASC,WAAT;AACA,SAASC,aAAT,EAAwBC,eAAxB;IAoEMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CACpBC,CADuB,EAEsB;IAC7C,OAAOA,CAAM,CAACC,QACf;EAAA,C;EAEKC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CACvBF,CAD0B,EAEoB;IAC9C,OAAO,CAACA,CAAM,CAACC,QAChB;EAAA,C;EAEKE,OAAO,GAAG;IACdC,OAAO,EAAE,SADK;IAEdC,SAAS,EAAE,WAFG;IAGdC,cAAc,EAAE;EAHF,C;EAMVC,YAAY,GAAG;IACnBC,WAAW,EAAE,EADM;IAEnBC,mBAAmB,EAAE,EAFF;IAGnBC,MAAM,IAHa;IAInBC,gBAAgB,EAAE,CAJC;IAKnBC,mBAAmB;EALA,C;AAQrB,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAC5Bb,CAD+B,EAED;EAC9B,OACEA,CAAM,IAAIc,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCjB,CAArC,EAA6C,mBAA7C,CAEb;AAAA,CANM;AAQP,OAAO,IAAMkB,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAC/BlB,CADkC,EAEN;EAC5B,OACEA,CAAM,IAAIc,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCjB,CAArC,EAA6C,kBAA7C,CAEb;AAAA,CANM;AAQP,OAAO,SAASmB,SAATA,CACLnB,CADK,EAEL;EAAA,IAEEoB,CAFF,GAoBIpB,CApBJ,CAEEqB,KAFF;IAGEC,CAHF,GAoBItB,CApBJ,CAGEuB,WAHF;IAIEC,CAJF,GAoBIxB,CApBJ,CAIEyB,UAJF;IAAAC,CAAA,GAoBI1B,CApBJ,CAKE2B,QALF;IAKEC,CALF,cAAAF,CAAA,IAAAA,CAAA;IAAAG,CAAA,GAoBI7B,CApBJ,CAMEC,QANF;IAME6B,CANF,cAAAD,CAAA,IAAAA,CAAA;IAOEE,CAPF,GAoBI/B,CApBJ,CAOEgC,YAPF;IAQEC,CARF,GAoBIjC,CApBJ,CAQEkC,UARF;IASEC,CATF,GAoBInC,CApBJ,CASEoC,cATF;IAUEC,CAVF,GAoBIrC,CApBJ,CAUEsC,eAVF;IAWEC,CAXF,GAoBIvC,CApBJ,CAWEwC,MAXF;IAAAC,CAAA,GAoBIzC,CApBJ,CAYE0C,SAZF;IAYEC,CAZF,cAAAF,CAAA,IAAAA,CAAA;IAaEG,CAbF,GAoBI5C,CApBJ,CAaE6C,WAbF;IAcEC,CAdF,GAoBI9C,CApBJ,CAcE+C,UAdF;IAeEC,CAfF,GAoBIhD,CApBJ,CAeEiD,eAfF;IAgBEC,CAhBF,GAoBIlD,CApBJ,CAgBEmD,OAhBF;IAiBEC,CAjBF,GAoBIpD,CApBJ,CAiBEqD,MAjBF;IAkBeC,CAlBf,GAoBItD,CApBJ,CAkBEQ,WAlBF;IAmBE+C,CAnBF,GAoBIvD,CApBJ,CAmBEwD,kBAnBF;IAsBMC,CAAQ,GAAGpE,MAAM,CAAmB,IAAnB,CAtBvB;IAAAqE,CAAA,GAuBkCpE,QAAQ,IAvB1C;IAAAqE,CAAA,GAAAC,cAAA,CAAAF,CAAA;IAuBOG,CAvBP,GAAAF,CAAA;IAuBkBG,CAvBlB,GAAAH,CAAA;IAyBMI,CAAK,GACR/D,CAAM,CAACgE,KAAP,KACEC,KAAK,CAACC,OAAN,CAAclE,CAAM,CAACgE,KAArB,IAA8BhE,CAAM,CAACgE,KAArC,GAA6C,CAAChE,CAAM,CAACgE,KAAR,CAD/C,CAAD,IAEA,EA5BF;IAAAG,CAAA,GAuCIrE,eAAe,CAACS,YAAD,CAvCnB;IAAA6D,CAAA,GAAAR,cAAA,CAAAO,CAAA;IAAAE,CAAA,GAAAD,CAAA;IAgCIE,CAhCJ,GAAAD,CAAA,CAgCI7D,WAhCJ;IAiCI+D,CAjCJ,GAAAF,CAAA,CAiCI3D,MAjCJ;IAkCI8D,CAlCJ,GAAAH,CAAA,CAkCI1D,gBAlCJ;IAmCI8D,CAnCJ,GAAAJ,CAAA,CAmCI5D,mBAnCJ;IAoCIiE,CApCJ,GAAAL,CAAA,CAoCIzD,mBApCJ;IAsCE+D,CAtCF,GAAAP,CAAA;IAyCMQ,CAAqB,GAAG,SAAxBA,CAAqBC,CAAI7E,CAAD,EAAaoB,CAAb;MAAA,OAGoB,CAAC,CAFjD,KAAAW,CAAY,CAAC/B,CAAD,CAAZ,CACG8E,iBADH,GAEGC,OAFH,CAEW3D,CAAW,CAAC0D,iBAAZ,EAFX,CAD4B;IAAA,CAzC9B;IAAAE,CAAA,GA8C2C9F,KAAK,CAACE,OAAN,CAAc,YAAM;MAC7D,IAAIqF,CAAmB,IAA4B,EAAxB,KAAAA,CAA3B,EAAuD;QAAA,IAC/CnD,CAAc,GAAGF,CAAK,CAAC6D,MAAN,CAAa,UAACjF,CAAD;YAAA,OAClCmC,CAAc,GACVA,CAAc,CAACnC,CAAD,EAAOyE,CAAP,CADJ,GAEVG,CAAqB,CAAC5E,CAAD,EAAOyE,CAAP,CAHS;UAAA,CAAb,CAD8B;UAO/CjD,CAAoB,KACxBJ,CAAK,CAAC8D,IAAN,CACE,UAAClF,CAAD;YAAA,OACE+B,CAAY,CAAC/B,CAAD,CAAZ,CAAqBmF,QAArB,GAAgCC,WAAhC,OACAX,CAAmB,CAACK,iBAApB,EAFF;UAAA,CADF,CARmD;QAoBrD,OAAO,CACLxD,CADK,EAELtB,CAAM,CAACqF,QAAP,IAAmB,CAAC7D,CAApB,GAPuC;UACvC8D,KAAK,EAAEhB,CADgC;UAEvCiB,iBAAiB;QAFsB,CAOvC,SAFK,CAIR;MAAA;MACD,OAAO,CAACnE,CAAD,SACR;IAAA,CA3B0C,EA2BxC,CAACA,CAAD,EAAQqD,CAAR,CA3BwC,CA9C3C;IAAAe,CAAA,GAAA5B,cAAA,CAAAoB,CAAA;IA8COS,CA9CP,GAAAD,CAAA;IA8CwBE,CA9CxB,GAAAF,CAAA;IA2EMG,CAAY,GAAGvG,OAAO,CAAC,YAAM;MACjC,IAAMgC,CAAY,GAAG7B,gBAAgB,CACnCC,SAAS,CACPiG,CADO,EAEP,SAAAlD,CAAM,eAANA,CAAA,IAAAA,CAAM,CAAEqD,MAAR,GAAiBvD,CAAjB,SAFO,EAGPE,CAHO,EAIPK,CAJO,EAKPE,CALO,CAD0B,EAQnC/C,gBAAgB,CAACC,CAAD,CAAhB,GAA2BA,CAAM,CAACgE,KAAlC,GAA0C,EARP,EASnCrB,CATmC,EAUnCV,CAVmC,EAWnCe,CAXmC,CAArC;MAcA,OAAO0C,CAAe,IAAIA,CAAJ,EAAAG,MAAA,CAAAC,kBAAA,CAAwB1E,CAAxB,KAAwCA,CAC/D;IAAA,CAhB2B,EAgBzB,CACD2C,CADC,EAEDpB,CAFC,EAGD8C,CAHC,EAIDlD,CAJC,EAKDF,CALC,EAMDW,CANC,EAODJ,CAPC,EAQDE,CARC,EASD4C,CATC,CAhByB,CA3E5B;IAuGMK,CAAQ,GAAG3G,OAAO,CAAC,YAAM;MAC7B,IAAIgC,CAAI,KAAR;MAQA,OAPyB,CAArB,GAAAkD,CAAW,CAACsB,MAOhB,KANExE,CAAI,GAIW,CAHb,KAAAuE,CAAY,CAACV,MAAb,CACE,UAACjF,CAAD;QAAA,OACEa,iBAAiB,CAACb,CAAD,CAAjB,IAAiD,CAArB,GAAAA,CAAK,CAACqB,KAAN,CAAYuE,MAAxC,IAAsD5F,CAAK,CAACgG,KAD9D;MAAA,CADF,EAGEJ,MAHF,IAGkB,CAAC5F,CAAM,CAACqF,QAE9B,GAAOjE,CACR;IAAA,CAVuB,EAUrB,CAACuE,CAAD,CAVqB,CAvGxB;IAmHMM,CAAQ,GAAoB,CAAjB,KAAA7E,CAAK,CAACwE,MAnHvB;IAqHMM,CAAsB,GAAG,SAAzBA,CAAsBC,CAAA,EAAiB;MAC3C,IAAInG,CAAK,GAAG,CAAZ;MACA,IAAmB,CAAf,GAAA+D,CAAK,CAAC6B,MAAV,EAAsB;QAAA,IAAAxE,CAAA;UAAAE,CAAA,GAAA8E,0BAAA,CACAT,CADA;QAAA;UACpB,KAAArE,CAAA,CAAA4B,CAAA,MAAA9B,CAAA,GAAAE,CAAA,CAAAmB,CAAA,IAAA4D,IAAA,GAAkC;YAAA,IAAvBzE,CAAuB,GAAAR,CAAA,CAAA4C,KAAA;YAChC,IAAInD,iBAAiB,CAACe,CAAD,CAArB,EAA8B;cAC5B5B,CAAK,EADuB;cAG5B;YACD;YAL+B,IAAAwB,CAAA;cAAAE,CAAA,GAAA0E,0BAAA,CAMbxE,CAAK,CAACP,KANO;YAAA;cAMhC,KAAAK,CAAA,CAAAwB,CAAA,MAAA1B,CAAA,GAAAE,CAAA,CAAAe,CAAA,IAAA4D,IAAA,GAAgC;gBAAA,IAArBxE,CAAqB,GAAAL,CAAA,CAAAwC,KAAA;gBAC9B,IAAI9C,oBAAoB,CAACW,CAAD,CAAxB,EACE,OAAO7B,CAAP;gBAEF,IAAIiC,CAAU,CAACJ,CAAD,CAAV,KAAqBI,CAAU,CAAC8B,CAAK,CAAC,CAAD,CAAN,CAAnC,EACE,OAAO/D,CAAP;gBAEFA,CAAK,EACN;cAAA;YAd+B,SAAAA,CAAA;cAAA0B,CAAA,CAAAA,CAAA,CAAA1B,CAAA;YAAA;cAAA0B,CAAA,CAAAE,CAAA;YAAA;UAejC;QAhBmB,SAAA5B,CAAA;UAAAsB,CAAA,CAAAI,CAAA,CAAA1B,CAAA;QAAA;UAAAsB,CAAA,CAAAM,CAAA;QAAA;MAiBrB;MAED,OAAO,CACR;IAAA,CA3ID;IA+IM0E,CAAO,GAAGpH,KAAK,CAACqH,WAAN,CACd,UAACvG,CAAD,EAAwB;MACtB2E,CAAQ,CACN,UAACvD,CAAD;QAAA,OAAAoF,aAAA,CAAAA,aAAA,KACKpF,CADL;UAEEV,MAAM,EAAEV;QAFV;MAAA,CADM,EAKNG,OAAO,CAACC,OALF,CAOT;IAAA,CATa,EAUd,CAACuE,CAAD,CAVc,CA/IhB;IA4JM8B,CAAiB,GAAG/G,WAAW,CAAC,UAACM,CAAD,EAAmB;MACvD2E,CAAQ,CACN,UAACvD,CAAD;QAAA,OAAAoF,aAAA,CAAAA,aAAA,KACKpF,CADL;UAEEX,mBAAmB,EAAET;QAFvB;MAAA,CADM,EAKNG,OAAO,CAACE,SALF,CAOT;IAAA,CARoC,EAQlC,GARkC,CA5JrC;IAsKMqG,CAAS,GAAGxH,KAAK,CAACqH,WAAN,CAChB,UAACvG,CAAD,EAAmB;MACjB2E,CAAQ,CACN,UAACvD,CAAD;QAAA,OAAAoF,aAAA,CAAAA,aAAA,KACKpF,CADL;UAEEZ,WAAW,EAAER;QAFf;MAAA,CADM,EAKNG,OAAO,CAACE,SALF,CADS,EAQjBoG,CAAiB,CAACzG,CAAD,CAClB;IAAA,CAVe,EAWhB,CAAC2E,CAAD,EAAW8B,CAAX,CAXgB,CAtKlB;IAoLME,CAAU,GAAG/G,WAAW,CAAC2E,CAAD,CApL9B;EAsLArF,KAAK,CAAC0H,eAAN,CAAsB,YAAM;IAC1B,IAAc,IAAV,KAAA7C,CAAK,IAAa,CAAC4C,CAAnB,IAAiCpC,CAArC,EAA6C;MAC3C,IAAMvE,CAAqB,GAAGkG,CAAsB,EAApD;MAC6B,CAAzB,GAAAT,CAAe,CAACG,MAFuB,IAGzC/F,aAAa,CAACG,CAAD,EAAwBsB,CAAxB,CAEhB;IAAA;EACF,CAPD,CAtLA;EAAA,IA+LMuF,CAAc,GAAG3H,KAAK,CAACqH,WAAN,CACrB,UAACvG,CAAD,EAAuCoB,CAAvC,EAAwE;MACtEuD,CAAQ,CAAC,UAACrD,CAAD,EAAS;QAChB,OAAAkF,aAAA,CAAAA,aAAA,KACKlF,CADL;UAEEX,gBAAgB,EAAEmG,IAAI,CAACC,GAAL,CAChBD,IAAI,CAACE,GAAL,CACE,CADF,EAE+B,UAA7B,WAAOhH,CAAP,GACIA,CAAiB,CAACsB,CAAG,CAACX,gBAAL,CADrB,GAEIX,CAJN,CADgB,EAOhB0F,CAAe,GACXD,CAAe,CAACG,MADL,GAEXH,CAAe,CAACG,MAAhB,GAAyB,CATb,CAFpB;UAaEhF,mBAAmB,EAAnBQ;QAbF,EAeD;MAAA,CAhBO,EAgBLjB,OAAO,CAACG,cAhBH,CAiBT;IAAA,CAnBoB,EAoBrB,CAACmF,CAAD,EAAkBd,CAAlB,EAA4Be,CAA5B,CApBqB,CA/LvB;IAsNMuB,CAAW,GAAG,SAAdA,CAAWC,CAAI9F,CAAD,EAA0BE,CAA1B,EAA8C;MAEhE,IADAF,CAAC,CAAC+F,eAAF,EACA,EAAIpH,gBAAgB,CAACC,CAAD,CAApB,EAA8B;QAAA,IAAAwB,CAAA;UACtBE,CAAQ,aAAAF,CAAA,GAAGxB,CAAM,CAACgE,KAAV,gBAAAxC,CAAA,YAAGA,CAAA,CAAcyD,MAAd,CACf,UAACjF,CAAD;YAAA,OAAUiC,CAAU,CAACjC,CAAD,CAAV,KAAqBiC,CAAU,CAACX,CAAD,CAAzC;UAAA,CADe,CADW;QAI5BtB,CAAM,CAACoH,QAAP,CAAgB;UACd1F,CAAC,EAADN,CADc;UAEd4C,KAAK,EAAE,SAAAtC,CAAQ,eAARA,CAAA,IAAAA,CAAQ,CAAEkE,MAAV,GAAmBlE,CAAnB,GAA8B;QAFvB,CAAhB,CAID;MAAA;IACF,CAjOD;IAmOM2F,CAAQ,GAAG,SAAXA,CAAQD,CAAIhG,CAAD,EAA0BE,CAA1B,EAAyC;MACxD,MAAI0B,CAAe,IAAIA,CAAe,CAAC1B,CAAD,CAAtC;QAGA,IAAIvB,gBAAgB,CAACC,CAAD,CAApB,EAA8B;UAC5B,IAAMwB,CAAQ,GAAGuC,CAAK,CAACuD,IAAN,CACf,UAACtH,CAAD;YAAA,OAAWiC,CAAU,CAACjC,CAAD,CAAV,KAAsBiC,CAAU,CAACX,CAAD,CAA3C;UAAA,CADe,IAGbyC,CAAK,CAACkB,MAAN,CAAa,UAACjF,CAAD;YAAA,OAAWiC,CAAU,CAACjC,CAAD,CAAV,KAAsBiC,CAAU,CAACX,CAAD,CAA3C;UAAA,CAAb,CAHa,MAAAuE,MAAA,CAAAC,kBAAA,CAIT/B,CAJS,IAIFzC,CAJE,EAAjB;UAKAtB,CAAM,CAACoH,QAAP,CAAgB;YAAEpD,KAAK,EAAExC,CAAQ,CAACoE,MAAT,GAAkBpE,CAAlB,GAA6B,IAAtC;YAA4CE,CAAC,EAADN;UAA5C,CAAhB,CACD;QAAA;QACGlB,mBAAmB,CAACF,CAAD,CAXvB,KAYEA,CAAM,CAACoH,QAAP,CAAgB;UAAEpD,KAAK,EAAE1C,CAAT;UAAeI,CAAC,EAADN;QAAf,CAAhB,CAZF,EAaEkF,CAAO,IAbT,GAeC/C,CAAD,IAAuBmD,CAAS,CAAC,EAAD,CAfhC;MAAA;IAgBD,CApPD;IAsPMa,CAAW,GAAG,SAAdA,CAAWC,CAAIpG,CAAD,EAGd;MACJ,IAAQE,CAAR,GAAqBF,CAArB,CAAQM,CAAR;QAAWF,CAAX,GAAqBJ,CAArB,CAAWC,KAAX;MACA,IAAItB,gBAAgB,CAACC,CAAD,CAApB,EAA8B;QAAA,IACtB0B,CAAgB,GAAGsB,CAAe,GACpCxB,CAAK,CAACyD,MAAN,CAAa,UAACjF,CAAD;YAAA,OAAU,CAACgD,CAAe,CAAChD,CAAD,CAA1B;UAAA,CAAb,CADoC,GAEpCwB,CAHwB;UAKtBI,CAA0B,GAAG,EALP;UAMtBC,CAA0B,GAAG,EANP;QAO5BkC,CAAK,CAAC0D,OAAN,CAAc,UAACzH,CAAD,EAAQ;UAElB0B,CAAgB,CAACwD,IAAjB,CAAsB,UAAC9D,CAAD;YAAA,OAAUa,CAAU,CAACjC,CAAD,CAAV,KAAmBiC,CAAU,CAACb,CAAD,CAAvC;UAAA,CAAtB,CAFkB,GAIlBQ,CAAkB,CAAC8F,IAAnB,CAAwB1H,CAAxB,CAJkB,GAMlB6B,CAAkB,CAAC6F,IAAnB,CAAwB1H,CAAxB,CAEH;QAAA,CARD,CAP4B,EAgBxB4B,CAAkB,CAACgE,MAAnB,KAA8BlE,CAAgB,CAACkE,MAhBvB,GAiB1B5F,CAAM,CAACoH,QAAP,CAAgB;UAAEpD,KAAK,EAAEnC,CAAT;UAA6BH,CAAC,EAADJ;QAA7B,CAAhB,CAjB0B,GAmB1BtB,CAAM,CAACoH,QAAP,CAAgB;UACd1F,CAAC,EAADJ,CADc;UAEd0C,KAAK,KAAA6B,MAAA,CAAMhE,CAAN,EAAAiE,kBAAA,CAA6BpE,CAA7B;QAFS,CAAhB,CAKH;MAAA;IACF,CApRD;IAsRMiG,EAAQ,GAAG,SAAXA,EAAQtC,CAAIjE,CAAD,EAA0BE,CAA1B,EAA4C;MAC3DtB,CAAM,CAACqF,QAAP,IAAmBrF,CAAM,CAACqF,QAAP,CAAgB;QAAE3D,CAAC,EAADN,CAAF;QAAKkE,KAAK,EAALhE;MAAL,CAAhB,CADwC,EAE3DgF,CAAO,IAFoD,EAG1D/C,CAAD,IAAuBmD,CAAS,CAAC,EAAD,CACjC;IAAA,CA1RD;IA6SMkB,EAAU,GAAG,SAAbA,EAAUC,CAAIzG,CAAD,EAA6B;MAE9C,IADCmC,CAAD,IAAuBmD,CAAS,CAAC,EAAD,CAChC,EAAI3G,gBAAgB,CAACC,CAAD,CAApB,EAA8B;QAC5B,IAAMsB,CAAO,YAAGyC,CAAH,eAAGA,CAAH,YAAGA,CAAK,CAAEkB,MAAP,CAAc,UAACjF,CAAD;UAAA,gBAAUgD,CAAV,eAAUA,CAAV,YAAUA,CAAe,CAAGhD,CAAH,CAAzB;QAAA,CAAd,CAAhB;QACAA,CAAM,CAACoH,QAAP,CAAgB;UACdpD,KAAK,EAAE1C,CAAO,IAAqB,CAAjB,GAAAA,CAAO,CAACsE,MAAnB,GAAgCtE,CAAhC,GAA0C,IADnC;UAEdI,CAAC,EAADN;QAFc,CAAhB,CAID;MAAA;MACGlB,mBAAmB,CAACF,CAAD,CATuB,IAU5CA,CAAM,CAACoH,QAAP,CAAgB;QAAEpD,KAAK,EAAE,IAAT;QAAetC,CAAC,EAADN;MAAf,CAAhB,CAEH;IAAA,CAzTD;IAgUM0G,EAAmB,GAAG,SAAtBA,EAAmBC,CAAI/H,CAAD,EAAIoB,CAAJ,EAAgB;MAC1CA,CAAC,CAAC4G,cAAF,EAD0C,EAEzCpG,CAAD,IAAa0E,CAAO,IAFsB,EAG1CO,CAAc,CAAC,UAAC7G,CAAD;QAAA,OAASA,CAAG,GAAG,CAAf;MAAA,CAAD,KACf;IAAA,CApUD;IAsUMiI,EAAqB,GAAG,SAAxBA,EAAqBC,CAAIlI,CAAD,EAAIoB,CAAJ,EAAgB;MAC5CA,CAAC,CAAC4G,cAAF,EAD4C,EAE3CpG,CAAD,IAAa0E,CAAO,IAFwB,EAG5CO,CAAc,CAAC,UAAC7G,CAAD;QAAA,OAASA,CAAG,GAAG,CAAf;MAAA,CAAD,KACf;IAAA,CA1UD;IAiZMmI,EAAW,GAAGxI,OAAO,CAAC;MAC1BoI,OAAO,EAAPD,EAD0B;MAE1BI,SAAS,EAATD,EAF0B;MAG1BG,MAAM,EAAEN,EAHkB;MAI1BO,QAAQ,EAAEJ,EAJgB;MAK1BK,IAAI,EAAER,EALoB;MAM1BS,GAAG,EAAEN,EANqB;MAO1BO,KAAK,EA5EmB,SAApBA,KAAoBA,CAACxI,CAAD,EAAIoB,CAAJ,EAAgB;QACxC,IAAImD,CAAJ,EAAY;UAAA,CACND,CAAW,IAAImB,CAAe,CAACjB,CAAD,CADxB,KAERpD,CAAC,CAAC4G,cAAF,EAFQ;UAAA,IAKJ1G,CAAO,GAAG,SAAAA,EACdtB,CADc,EAKX;cAAA,IAAAoB,CAAA;gBACCE,CAAM,GAAG,CADV;gBAAAE,CAAA,GAAA4E,0BAAA,CAEiBT,CAFjB;cAAA;gBAEH,KAAAnE,CAAA,CAAA0B,CAAA,MAAA9B,CAAA,GAAAI,CAAA,CAAAiB,CAAA,IAAA4D,IAAA,GAAkC;kBAAA,IAAvB3E,CAAuB,GAAAN,CAAA,CAAA4C,KAAA;kBAChC,IAAInD,iBAAiB,CAACa,CAAD,CAArB,EAEE,OADAJ,CAAM,EACN,EAAO,SAAYI,CAAZ,CAAP;kBAEF,IAAIA,CAAK,CAACL,KAAN,CAAYuE,MAAZ,GAAqBtE,CAArB,GAA8BtB,CAAlC,EACE,OAAO,CAAC0B,CAAD,EAAQA,CAAK,CAACL,KAAN,CAAYrB,CAAK,GAAGsB,CAApB,CAAR,CAAP;kBAEFA,CAAM,IAAII,CAAK,CAACL,KAAN,CAAYuE,MACvB;gBAAA;cAXE,SAAA5F,CAAA;gBAAAwB,CAAA,CAAAE,CAAA,CAAA1B,CAAA;cAAA;gBAAAwB,CAAA,CAAAI,CAAA;cAAA;cAYH,OAAO,gBACR;YAAA,CAvBS;YAAAJ,CAAA,GAyBYF,CAAO,CAACkD,CAAD,CAzBnB;YAAA9C,CAAA,GAAAkC,cAAA,CAAApC,CAAA;YAyBHI,CAzBG,GAAAF,CAAA;YAyBIG,CAzBJ,GAAAH,CAAA;UA2BV,IAAIb,iBAAiB,CAACgB,CAAD,CAArB,EAEE,YADA8F,EAAQ,CAACvG,CAAD,EAAIS,CAAI,CAACyD,KAAT,CACR;UAGF,IAAIpE,oBAAoB,CAACW,CAAD,CAAxB,EAAgC;YAAA,IAAAC,CAAA;YAQ9B,YAPAyF,CAAW,CAAC;cACV7F,CAAC,EAADN,CADU;cAEVC,KAAK,YAAAS,CAAA,YACFF,CADE,eACFA,CADE,YACFA,CAAK,CAAEP,KAAP,CAAa4D,MAAb,CACC,UAACjF,CAAD;gBAAA,OAAQ,CAACkB,oBAAoB,CAAClB,CAAD,CAA7B;cAAA,CADD,CADE,gBAAA8B,CAAA,GAAAA,CAAA,GAGa;YALR,CAAD,CAQZ;UAAA;UAEGD,CA3CM,IA4CRwF,CAAQ,CAACjG,CAAD,EAAIS,CAAJ,CAEX;QAAA;MACF,CAqB2B;MAQ1B4G,MAAM,EA3BO,SAATA,MAASA,CAAA,EAAY;QACzBnC,CAAO,IACR;MAAA,CAiB2B;MAS1BoC,GAAG,EAxBO,SAANA,GAAMA,CAAA,EAAY;QACtBpC,CAAO,IACR;MAAA,CAa2B;MAU1BqC,SAAS,EArBmB,SAAxBA,SAAwBA,CAAC3I,CAAD,EAAIoB,CAAJ,EAAgB;QACxCkD,CADwC,KAIxCxC,CAJwC,GAK1CmF,CAAW,CAAC7F,CAAD,EAAI2C,CAAK,CAACA,CAAK,CAAC6B,MAAN,GAAe,CAAhB,CAAT,CAL+B,GAO1CgC,EAAU,CAACxG,CAAD,CAPgC,CAS7C;MAAA;IAE2B,CAAD,CAjZ3B;EAydA3B,eAAe,CAAC;IACdmJ,QAAQ,EAAErE,CADI;IAEdsE,sBAAsB,EAAE,CAACvH,CAAD,EAAcE,CAAd,CAFV;IAGdsH,OAAO,EAAE,SAAAA,QAAA,EAAM;MACbxC,CAAO,IACR;IAAA;EALa,CAAD,CAzdf,EAieApH,KAAK,CAACC,SAAN,CAAgB,YAAM;IAChByC,CADgB,IAElB0E,CAAO,IAEV;EAAA,CAJD,EAIG,CAAC1E,CAAD,CAJH,CAjeA,EAueA1C,KAAK,CAACC,SAAN,CAAgB,YAAM;IACpB,IAAMa,CAAqB,GAAGkG,CAAsB,EAApD;IACAW,CAAc,CAAC7G,CAAD,KACf;EAAA,CAHD,EAGG,CAAC6G,CAAD,CAHH,CAveA,EA4eA3H,KAAK,CAACC,SAAN,CAAgB,YAAM;IACS,CAAzB,GAAAsG,CAAe,CAACG,MAAhB,IAA8BlB,CADd,IAElB7E,aAAa,CAAC2E,CAAD,EAAmBlD,CAAnB,CAEhB;EAAA,CAJD,EAIG,CAACkD,CAAD,CAJH,CA5eA;EA6hBA,OANArF,SAAS,CAAC,YAAM;IACVmE,CADU,IAEZoD,CAAS,CAACpD,CAAD,CAEZ;EAAA,CAJQ,EAIN,CAACA,CAAD,CAJM,CAMT,EAAO;IACL5C,MAAM,EAAN6D,CADK;IAELwE,SAAS,EAATlF,CAFK;IAGLlD,gBAAgB,EAAhB6D,CAHK;IAILwE,YAAY,EAAZrD,CAJK;IAKLrF,cAAc,EAAduG,CALK;IAMLoC,cAAc,EArIO,SAAjBA,cAAiBA,CAAAjJ,CAAA,EAGwB;MAAA,IAF7CoB,CAE6C,GAAApB,CAAA,CAF7CkJ,KAE6C;QAD7C5H,CAC6C,GAAAtB,CAAA,CAD7CmJ,IAC6C;MAC7C,IAAItI,iBAAiB,CAACS,CAAD,CAArB,EACE,OAAO;QACL8H,OAAO,EAAE,SAAAA,QAACpJ,CAAD,EAA6B;UACpC2H,EAAQ,CAAC3H,CAAD,EAAIsB,CAAI,CAACgE,KAAT,CACT;QAAA,CAHI;QAIL+D,YAAY,EAAE,SAAAA,aAAA,EAAM;UAClBxC,CAAc,CAACzF,CAAD,KACf;QAAA,CANI;QAOLkI,MAAM,IAPD;QAQLC,OAAO,EAAEnI,CAAK,KAAKoD,CARd;QASLgF,GAAG,EAAE;MATA,CAAP;MAYF,IAAItI,oBAAoB,CAACI,CAAD,CAAxB,EAAgC;QAC9B,IAAMM,CAAQ,GAAG,SAAXA,CAAQ6H,CAAA,EAAiB;UAAA,IAAAzJ,CAAA;YAAAoB,CAAA,GAAAgF,0BAAA,CACTT,CADS;UAAA;YAC7B,KAAAvE,CAAA,CAAA8B,CAAA,MAAAlD,CAAA,GAAAoB,CAAA,CAAAqB,CAAA,IAAA4D,IAAA,GAAkC;cAAA,IAAvB3E,CAAuB,GAAA1B,CAAA,CAAAgE,KAAA;cAChC,IAAInD,iBAAiB,CAACa,CAAD,CAArB,EACE;cAEF,IAAIA,CAAK,CAAC8H,GAAN,KAAclI,CAAI,CAACoI,QAAvB,EAAiC;gBAAA,IAAAlI,CAAA;gBAC/B,iBAAAA,CAAA,YACGE,CADH,eACGA,CADH,YACGA,CAAK,CAAEL,KAAP,CAAa4D,MAAb,CACC,UAACjF,CAAD;kBAAA,OAAQ,CAACkB,oBAAoB,CAAClB,CAAD,CAA7B;gBAAA,CADD,CADH,gBAAAwB,CAAA,GAAAA,CAAA,GAGkB,EAEnB;cAAA;YACF;UAZ4B,SAAAxB,CAAA;YAAAoB,CAAA,CAAAM,CAAA,CAAA1B,CAAA;UAAA;YAAAoB,CAAA,CAAAQ,CAAA;UAAA;UAa7B,OAAO,EACR;QAAA,CAdD;QAeA,OAAO;UACLwH,OAAO,EAAE,SAAAA,QAACpJ,CAAD,EAA6B;YACpCuH,CAAW,CAAC;cAAE7F,CAAC,EAAD1B,CAAF;cAAKqB,KAAK,EAAEO,CAAQ;YAApB,CAAD,CACZ;UAAA,CAHI;UAILyH,YAAY,EAAE,SAAAA,aAAA,EAAM;YAClBxC,CAAc,CAACzF,CAAD,KACf;UAAA,CANI;UAOLkI,MAAM,IAPD;UAQLC,OAAO,EAAEnI,CAAK,KAAKoD,CARd;UASLgF,GAAG,EAAE;QATA,CAWR;MAAA;MACD,IAAMhI,CAAG,GAAGS,CAAU,CAACX,CAAD,CAAtB;MACA,OAAO;QACL8H,OAAO,EAAE,SAAAA,QAACpJ,CAAD,EAA6B;UACpCqH,CAAQ,CAACrH,CAAD,EAAIsB,CAAJ,CACT;QAAA,CAHI;QAIL+H,YAAY,EAAE,SAAAA,aAAA,EAAM;UAClBxC,CAAc,CAACzF,CAAD,KACf;QAAA,CANI;QAOLkI,MAAM,IAAUvF,CAAK,CAACmB,IAAN,CAAW,UAAClF,CAAD;UAAA,OAAUiC,CAAU,CAACjC,CAAD,CAAV,KAAqBwB,CAA/B;QAAA,CAAX,CAPX;QAQL+H,OAAO,EAAEnI,CAAK,KAAKoD,CARd;QASLgF,GAAG,EAAHhI;MATK,CAWR;IAAA,CAsEM;IAOLmI,gBAAgB,EAlDO,SAAnBA,gBAAmBA,CAAC3J,CAAD,EAAiD;MACnE4B,CADmE,KAElE,CAACiC,CAFiE,IAGpEC,CAAY,IAHwD,EAK/C,UAAnB,WAAOZ,CAL2D,IAMpEA,CAAO,CAAClD,CAAD,CAN6D,CASzE;IAAA,CAkCM;IAQL4J,eAAe,EAxCO,SAAlBA,eAAkBA,CAAC5J,CAAD,EAAiD;MACvE,IAAIuE,CAAJ,EAAY;QAAA,IAAAnD,CAAA;QAEV,uBAAAA,CAAA,GADAqC,CAAQ,CAACoG,OACT,gBAAAzI,CAAA,YADAA,CAAA,CAAkB0I,KAAlB,EACA,CACD;MAAA;MAEGjG,CANmE,IAOrEC,CAAY,IAPyD,EAUjD,UAAlB,WAAOV,CAV4D,IAWrEA,CAAM,CAACpD,CAAD,CAET;IAAA,CAmBM;IASL+J,oBAAoB,EA1BO,SAAvBA,oBAAuBA,CAAA,EAAY;MACvC,IAAIxF,CAAJ,EACE+B,CAAO,IADT,EAEExC,CAAY,IAFd,MAGO;QAAA,IAAA9D,CAAA;QACLsG,CAAO,IADF,EAELxC,CAAY,IAFP,YAAA9D,CAAA,GAGLyD,CAAQ,CAACoG,OAHJ,gBAAA7J,CAAA,YAGLA,CAAA,CAAkB8J,KAAlB,EACD;MAAA;IACF,CAQM;IAULE,gBAAgB,EAnQO,SAAnBA,gBAAmBA,CAAA,EAAY;MAGnC,IAFCpI,CAAD,IAAa0E,CAAO,CAAC,CAAC/B,CAAF,CAEpB,EAAIzC,CAAJ,EAAc;QAAA,IAAA9B,CAAA;QAAA,UAAAA,CAAA,GACZyD,CAAQ,CAACoG,OADG,gBAAA7J,CAAA,YACZA,CAAA,CAAkB8J,KAAlB,EADY,EAEXvG,CAAD,IAAuBmD,CAAS,CAAC,EAAD,CACjC;MAAA;IACF,CAkPM;IAWLuD,QAAQ,EAARxG,CAXK;IAYLyG,WAAW,EAAX/B,EAZK;IAaLgC,iBAAiB,EA5QO,SAApBA,iBAAoBA,CAACnK,CAAD,EAAkD;MACrE4B,CAAD,IAAe,CAACE,CAAD,IAA4B,CAAf,GAAAiC,CAAK,CAAC6B,MADoC,IAExEc,CAAS,CAAC1G,CAAC,CAACoK,MAAF,CAASpG,KAAV,CAEZ;IAAA,CA2PM;IAcLxD,WAAW,EAAX8D,CAdK;IAeLuD,UAAU,EAAVD,EAfK;IAgBLyC,oBAAoB,EAlPO,SAAvBA,oBAAuBA,CAACrK,CAAD;MAAA,OAAgB,UAACoB,CAAD;QAAA,OAC3C6F,CAAW,CAAC7F,CAAD,EAAIpB,CAAJ,CADgC;MAAA,CAAhB;IAAA,CAkOtB;IAiBLsK,QAAQ,EAARvE,CAjBK;IAkBLwE,QAAQ,EAARtE;EAlBK,CAoBR;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}